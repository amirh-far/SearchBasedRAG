{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/lib/constants/index.ts"],"sourcesContent":["export const CHAT_ID = 'search' as const\n"],"names":[],"mappings":";;;AAAO,MAAM,UAAU","debugId":null}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/collapsible.tsx"],"sourcesContent":["\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;AAIA,MAAM,cAAc,0KAAA,CAAA,OAAyB;AAE7C,MAAM,qBAAqB,0KAAA,CAAA,qBAAuC;AAElE,MAAM,qBAAqB,0KAAA,CAAA,qBAAuC","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/separator.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = 'horizontal', decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'shrink-0 bg-border',\n        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/collapsible-message.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\nimport { ChevronDown, UserCircle2 } from 'lucide-react'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger\n} from './ui/collapsible'\nimport { IconLogo } from './ui/icons'\nimport { Separator } from './ui/separator'\n\ninterface CollapsibleMessageProps {\n  children: React.ReactNode\n  role: 'user' | 'assistant'\n  isCollapsible?: boolean\n  isOpen?: boolean\n  header?: React.ReactNode\n  onOpenChange?: (open: boolean) => void\n  showBorder?: boolean\n  showIcon?: boolean\n}\n\nexport function CollapsibleMessage({\n  children,\n  role,\n  isCollapsible = false,\n  isOpen = true,\n  header,\n  onOpenChange,\n  showBorder = true,\n  showIcon = true\n}: CollapsibleMessageProps) {\n  const content = <div className=\"py-2 flex-1\">{children}</div>\n\n  return (\n    <div className=\"flex gap-3\">\n      <div className=\"relative flex flex-col items-center\">\n        <div className={cn('mt-[10px] w-5', role === 'assistant' && 'mt-4')}>\n          {showIcon &&\n            (role === 'user' ? (\n              <UserCircle2 size={20} className=\"text-muted-foreground\" />\n            ) : (\n              <IconLogo className=\"size-5\" />\n            ))}\n        </div>\n      </div>\n\n      {isCollapsible ? (\n        <div\n          className={cn(\n            'flex-1 rounded-2xl p-4',\n            showBorder && 'border border-border/50'\n          )}\n        >\n          <Collapsible\n            open={isOpen}\n            onOpenChange={onOpenChange}\n            className=\"w-full\"\n          >\n            <CollapsibleTrigger className=\"flex items-center justify-between w-full group\">\n              <div className=\"flex items-center justify-between w-full gap-2\">\n                {header && <div className=\"text-sm w-full\">{header}</div>}\n                <ChevronDown className=\"h-4 w-4 text-muted-foreground transition-transform duration-200 group-data-[state=open]:rotate-180\" />\n              </div>\n            </CollapsibleTrigger>\n            <CollapsibleContent className=\"data-[state=closed]:animate-collapse-up data-[state=open]:animate-collapse-down\">\n              <Separator className=\"my-4 border-border/50\" />\n              {content}\n            </CollapsibleContent>\n          </Collapsible>\n        </div>\n      ) : (\n        <div className=\"flex-1 rounded-2xl px-4\">{content}</div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AAKA;AACA;;;;;;;AAaO,SAAS,mBAAmB,EACjC,QAAQ,EACR,IAAI,EACJ,gBAAgB,KAAK,EACrB,SAAS,IAAI,EACb,MAAM,EACN,YAAY,EACZ,aAAa,IAAI,EACjB,WAAW,IAAI,EACS;IACxB,MAAM,wBAAU,6LAAC;QAAI,WAAU;kBAAe;;;;;;IAE9C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB,SAAS,eAAe;8BACzD,YACC,CAAC,SAAS,uBACR,6LAAC,+NAAA,CAAA,cAAW;wBAAC,MAAM;wBAAI,WAAU;;;;;6CAEjC,6LAAC,6HAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;4BACrB;;;;;;;;;;;YAIN,8BACC,6LAAC;gBACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,0BACA,cAAc;0BAGhB,cAAA,6LAAC,mIAAA,CAAA,cAAW;oBACV,MAAM;oBACN,cAAc;oBACd,WAAU;;sCAEV,6LAAC,mIAAA,CAAA,qBAAkB;4BAAC,WAAU;sCAC5B,cAAA,6LAAC;gCAAI,WAAU;;oCACZ,wBAAU,6LAAC;wCAAI,WAAU;kDAAkB;;;;;;kDAC5C,6LAAC,uNAAA,CAAA,cAAW;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAG3B,6LAAC,mIAAA,CAAA,qBAAkB;4BAAC,WAAU;;8CAC5B,6LAAC,iIAAA,CAAA,YAAS;oCAAC,WAAU;;;;;;gCACpB;;;;;;;;;;;;;;;;;qCAKP,6LAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAIlD;KAtDgB","debugId":null}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/default-skeleton.tsx"],"sourcesContent":["'use client'\n\nimport { Skeleton } from './ui/skeleton'\n\nexport const DefaultSkeleton = () => {\n  return (\n    <div className=\"flex flex-col gap-2 pb-4 pt-2\">\n      <Skeleton className=\"h-6 w-48\" />\n      <Skeleton className=\"w-full h-6\" />\n    </div>\n  )\n}\n\nexport function SearchSkeleton() {\n  return (\n    <div className=\"flex flex-wrap gap-2 pb-0.5\">\n      {[...Array(4)].map((_, index) => (\n        <div\n          key={index}\n          className=\"w-[calc(50%-0.5rem)] md:w-[calc(25%-0.5rem)]\"\n        >\n          <Skeleton className=\"h-20 w-full\" />\n        </div>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,MAAM,kBAAkB;IAC7B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,gIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;0BACpB,6LAAC,gIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;;;;;;;AAG1B;KAPa;AASN,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;kBACZ;eAAI,MAAM;SAAG,CAAC,GAAG,CAAC,CAAC,GAAG,sBACrB,6LAAC;gBAEC,WAAU;0BAEV,cAAA,6LAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;eAHf;;;;;;;;;;AAQf;MAbgB","debugId":null}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/custom-link.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\nimport { AnchorHTMLAttributes, DetailedHTMLProps, ReactNode } from 'react'\n\ntype CustomLinkProps = Omit<\n  DetailedHTMLProps<AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>,\n  'ref'\n> & {\n  children: ReactNode\n}\n\nexport function Citing({\n  href,\n  children,\n  className,\n  ...props\n}: CustomLinkProps) {\n  const childrenText = children?.toString() || ''\n  const isNumber = /^\\d+$/.test(childrenText)\n  const linkClasses = cn(\n    isNumber\n      ? 'text-[10px] bg-muted text-muted-froreground rounded-full w-4 h-4 px-0.5 inline-flex items-center justify-center hover:bg-muted/50 duration-200 no-underline -translate-y-0.5'\n      : 'hover:underline inline-flex items-center gap-1.5',\n    className\n  )\n\n  return (\n    <a\n      href={href}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className={linkClasses}\n      {...props}\n    >\n      {children}\n    </a>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAUO,SAAS,OAAO,EACrB,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,GAAG,OACa;IAChB,MAAM,eAAe,UAAU,cAAc;IAC7C,MAAM,WAAW,QAAQ,IAAI,CAAC;IAC9B,MAAM,cAAc,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACnB,WACI,iLACA,oDACJ;IAGF,qBACE,6LAAC;QACC,MAAM;QACN,QAAO;QACP,KAAI;QACJ,WAAW;QACV,GAAG,KAAK;kBAER;;;;;;AAGP;KA1BgB","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/lib/hooks/use-copy-to-clipboard.ts"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\nexport interface useCopyToClipboardProps {\n  timeout?: number\n}\n\nexport function useCopyToClipboard({\n  timeout = 2000\n}: useCopyToClipboardProps) {\n  const [isCopied, setIsCopied] = useState<Boolean>(false)\n\n  const copyToClipboard = (value: string) => {\n    if (typeof window === 'undefined' || !navigator.clipboard?.writeText) {\n      return\n    }\n\n    if (!value) {\n      return\n    }\n\n    navigator.clipboard.writeText(value).then(() => {\n      setIsCopied(true)\n\n      setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n    })\n  }\n\n  return { isCopied, copyToClipboard }\n}\n"],"names":[],"mappings":";;;AAEA;;AAFA;;AAQO,SAAS,mBAAmB,EACjC,UAAU,IAAI,EACU;;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAElD,MAAM,kBAAkB,CAAC;QACvB,IAAI,aAAkB,eAAe,CAAC,UAAU,SAAS,EAAE,WAAW;YACpE;QACF;QAEA,IAAI,CAAC,OAAO;YACV;QACF;QAEA,UAAU,SAAS,CAAC,SAAS,CAAC,OAAO,IAAI,CAAC;YACxC,YAAY;YAEZ,WAAW;gBACT,YAAY;YACd,GAAG;QACL;IACF;IAEA,OAAO;QAAE;QAAU;IAAgB;AACrC;GAxBgB","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/codeblock.tsx"],"sourcesContent":["// Referenced from Vercel's AI Chatbot and modified to fit the needs of this project\n// https://github.com/vercel/ai-chatbot/blob/c2757f87f986b7f15fdf75c4c89cb2219745c53f/components/ui/codeblock.tsx\n\n'use client'\n\nimport { FC, memo } from 'react'\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter'\nimport { coldarkDark } from 'react-syntax-highlighter/dist/cjs/styles/prism'\n\nimport { useCopyToClipboard } from '@/lib/hooks/use-copy-to-clipboard'\nimport { Button } from '@/components/ui/button'\nimport { generateId } from 'ai'\nimport { Check, Copy, Download } from 'lucide-react'\n\ninterface Props {\n  language: string\n  value: string\n}\n\ninterface languageMap {\n  [key: string]: string | undefined\n}\n\nexport const programmingLanguages: languageMap = {\n  javascript: '.js',\n  python: '.py',\n  java: '.java',\n  c: '.c',\n  cpp: '.cpp',\n  'c++': '.cpp',\n  'c#': '.cs',\n  ruby: '.rb',\n  php: '.php',\n  swift: '.swift',\n  'objective-c': '.m',\n  kotlin: '.kt',\n  typescript: '.ts',\n  go: '.go',\n  perl: '.pl',\n  rust: '.rs',\n  scala: '.scala',\n  haskell: '.hs',\n  lua: '.lua',\n  shell: '.sh',\n  sql: '.sql',\n  html: '.html',\n  css: '.css'\n  // add more file extensions here, make sure the key is same as language prop in CodeBlock.tsx component\n}\n\nconst CodeBlock: FC<Props> = memo(({ language, value }) => {\n  const { isCopied, copyToClipboard } = useCopyToClipboard({ timeout: 2000 })\n\n  const downloadAsFile = () => {\n    if (typeof window === 'undefined') {\n      return\n    }\n    const fileExtension = programmingLanguages[language] || '.file'\n    const suggestedFileName = `file-${generateId()}${fileExtension}`\n    const fileName = window.prompt('Enter file name', suggestedFileName)\n\n    if (!fileName) {\n      // User pressed cancel on prompt.\n      return\n    }\n\n    const blob = new Blob([value], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.download = fileName\n    link.href = url\n    link.style.display = 'none'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    URL.revokeObjectURL(url)\n  }\n\n  const onCopy = () => {\n    if (isCopied) return\n    copyToClipboard(value)\n  }\n\n  return (\n    <div className=\"relative w-full font-sans codeblock bg-neutral-800\">\n      <div className=\"flex items-center justify-between w-full px-6 py-1 pr-4 bg-neutral-700 text-zinc-100\">\n        <span className=\"text-xs lowercase\">{language}</span>\n        <div className=\"flex items-center space-x-1\">\n          <Button\n            variant=\"ghost\"\n            className=\"focus-visible:ring-1\"\n            onClick={downloadAsFile}\n            size=\"icon\"\n          >\n            <Download className=\"w-4 h-4\" />\n            <span className=\"sr-only\">Download</span>\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"text-xs focus-visible:ring-1 focus-visible:ring-offset-0\"\n            onClick={onCopy}\n          >\n            {isCopied ? (\n              <Check className=\"w-4 h-4\" />\n            ) : (\n              <Copy className=\"w-4 h-4\" />\n            )}\n            <span className=\"sr-only\">Copy code</span>\n          </Button>\n        </div>\n      </div>\n      <SyntaxHighlighter\n        language={language}\n        style={coldarkDark}\n        PreTag=\"div\"\n        showLineNumbers\n        customStyle={{\n          margin: 0,\n          width: '100%',\n          background: 'transparent',\n          padding: '1.5rem 1rem'\n        }}\n        lineNumberStyle={{\n          userSelect: 'none'\n        }}\n        codeTagProps={{\n          style: {\n            fontSize: '0.9rem',\n            fontFamily: 'var(--font-mono)'\n          }\n        }}\n      >\n        {value}\n      </SyntaxHighlighter>\n    </div>\n  )\n})\nCodeBlock.displayName = 'CodeBlock'\n\nexport { CodeBlock }\n"],"names":[],"mappings":"AAAA,oFAAoF;AACpF,iHAAiH;;;;;;AAIjH;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;;;AATA;;;;;;;;AAoBO,MAAM,uBAAoC;IAC/C,YAAY;IACZ,QAAQ;IACR,MAAM;IACN,GAAG;IACH,KAAK;IACL,OAAO;IACP,MAAM;IACN,MAAM;IACN,KAAK;IACL,OAAO;IACP,eAAe;IACf,QAAQ;IACR,YAAY;IACZ,IAAI;IACJ,MAAM;IACN,MAAM;IACN,OAAO;IACP,SAAS;IACT,KAAK;IACL,OAAO;IACP,KAAK;IACL,MAAM;IACN,KAAK;AAEP;AAEA,MAAM,0BAAuB,GAAA,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,UAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;;IACpD,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,qBAAkB,AAAD,EAAE;QAAE,SAAS;IAAK;IAEzE,MAAM,iBAAiB;QACrB,uCAAmC;;QAEnC;QACA,MAAM,gBAAgB,oBAAoB,CAAC,SAAS,IAAI;QACxD,MAAM,oBAAoB,CAAC,KAAK,EAAE,CAAA,GAAA,2LAAA,CAAA,aAAU,AAAD,MAAM,eAAe;QAChE,MAAM,WAAW,OAAO,MAAM,CAAC,mBAAmB;QAElD,IAAI,CAAC,UAAU;YACb,iCAAiC;YACjC;QACF;QAEA,MAAM,OAAO,IAAI,KAAK;YAAC;SAAM,EAAE;YAAE,MAAM;QAAa;QACpD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG;QAChB,KAAK,IAAI,GAAG;QACZ,KAAK,KAAK,CAAC,OAAO,GAAG;QACrB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,SAAS;QACb,IAAI,UAAU;QACd,gBAAgB;IAClB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAqB;;;;;;kCACrC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,8HAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS;gCACT,MAAK;;kDAEL,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;0CAE5B,6LAAC,8HAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;;oCAER,yBACC,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;6DAEjB,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAElB,6LAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAIhC,6LAAC,6MAAA,CAAA,QAAiB;gBAChB,UAAU;gBACV,OAAO,4LAAA,CAAA,cAAW;gBAClB,QAAO;gBACP,eAAe;gBACf,aAAa;oBACX,QAAQ;oBACR,OAAO;oBACP,YAAY;oBACZ,SAAS;gBACX;gBACA,iBAAiB;oBACf,YAAY;gBACd;gBACA,cAAc;oBACZ,OAAO;wBACL,UAAU;wBACV,YAAY;oBACd;gBACF;0BAEC;;;;;;;;;;;;AAIT;;QAtFwC,iJAAA,CAAA,qBAAkB;;;;QAAlB,iJAAA,CAAA,qBAAkB;;;;AAuF1D,UAAU,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/markdown.tsx"],"sourcesContent":["import { FC, memo } from 'react'\nimport ReactMarkdown, { Options } from 'react-markdown'\n\nexport const MemoizedReactMarkdown: FC<Options> = memo(\n  ReactMarkdown,\n  (prevProps, nextProps) =>\n    prevProps.children === nextProps.children &&\n    prevProps.className === nextProps.className\n)\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,sCAAqC,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,EACnD,4MAAA,CAAA,UAAa,EACb,CAAC,WAAW,YACV,UAAU,QAAQ,KAAK,UAAU,QAAQ,IACzC,UAAU,SAAS,KAAK,UAAU,SAAS","debugId":null}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/message.tsx"],"sourcesContent":["'use client'\n\nimport { cn } from '@/lib/utils'\nimport 'katex/dist/katex.min.css'\nimport rehypeExternalLinks from 'rehype-external-links'\nimport rehypeKatex from 'rehype-katex'\nimport remarkGfm from 'remark-gfm'\nimport remarkMath from 'remark-math'\nimport { Citing } from './custom-link'\nimport { CodeBlock } from './ui/codeblock'\nimport { MemoizedReactMarkdown } from './ui/markdown'\n\nexport function BotMessage({\n  message,\n  className\n}: {\n  message: string\n  className?: string\n}) {\n  // Check if the content contains LaTeX patterns\n  const containsLaTeX = /\\\\\\[([\\s\\S]*?)\\\\\\]|\\\\\\(([\\s\\S]*?)\\\\\\)/.test(\n    message || ''\n  )\n\n  // Modify the content to render LaTeX equations if LaTeX patterns are found\n  const processedData = preprocessLaTeX(message || '')\n\n  if (containsLaTeX) {\n    return (\n      <MemoizedReactMarkdown\n        rehypePlugins={[\n          [rehypeExternalLinks, { target: '_blank' }],\n          [rehypeKatex]\n        ]}\n        remarkPlugins={[remarkGfm, remarkMath]}\n        className={cn(\n          'prose-sm prose-neutral prose-a:text-accent-foreground/50',\n          className\n        )}\n      >\n        {processedData}\n      </MemoizedReactMarkdown>\n    )\n  }\n\n  return (\n    <MemoizedReactMarkdown\n      rehypePlugins={[[rehypeExternalLinks, { target: '_blank' }]]}\n      remarkPlugins={[remarkGfm]}\n      className={cn(\n        'prose-sm prose-neutral prose-a:text-accent-foreground/50',\n        className\n      )}\n      components={{\n        code({ node, inline, className, children, ...props }) {\n          if (children.length) {\n            if (children[0] == '▍') {\n              return (\n                <span className=\"mt-1 cursor-default animate-pulse\">▍</span>\n              )\n            }\n\n            children[0] = (children[0] as string).replace('`▍`', '▍')\n          }\n\n          const match = /language-(\\w+)/.exec(className || '')\n\n          if (inline) {\n            return (\n              <code className={className} {...props}>\n                {children}\n              </code>\n            )\n          }\n\n          return (\n            <CodeBlock\n              key={Math.random()}\n              language={(match && match[1]) || ''}\n              value={String(children).replace(/\\n$/, '')}\n              {...props}\n            />\n          )\n        },\n        a: Citing\n      }}\n    >\n      {message}\n    </MemoizedReactMarkdown>\n  )\n}\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\nconst preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`\n  )\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`\n  )\n  return inlineProcessedContent\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYO,SAAS,WAAW,EACzB,OAAO,EACP,SAAS,EAIV;IACC,+CAA+C;IAC/C,MAAM,gBAAgB,wCAAwC,IAAI,CAChE,WAAW;IAGb,2EAA2E;IAC3E,MAAM,gBAAgB,gBAAgB,WAAW;IAEjD,IAAI,eAAe;QACjB,qBACE,6LAAC,gIAAA,CAAA,wBAAqB;YACpB,eAAe;gBACb;oBAAC,8JAAA,CAAA,UAAmB;oBAAE;wBAAE,QAAQ;oBAAS;iBAAE;gBAC3C;oBAAC,2IAAA,CAAA,UAAW;iBAAC;aACd;YACD,eAAe;gBAAC,yIAAA,CAAA,UAAS;gBAAE,0IAAA,CAAA,UAAU;aAAC;YACtC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,4DACA;sBAGD;;;;;;IAGP;IAEA,qBACE,6LAAC,gIAAA,CAAA,wBAAqB;QACpB,eAAe;YAAC;gBAAC,8JAAA,CAAA,UAAmB;gBAAE;oBAAE,QAAQ;gBAAS;aAAE;SAAC;QAC5D,eAAe;YAAC,yIAAA,CAAA,UAAS;SAAC;QAC1B,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAEF,YAAY;YACV,MAAK,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;gBAClD,IAAI,SAAS,MAAM,EAAE;oBACnB,IAAI,QAAQ,CAAC,EAAE,IAAI,KAAK;wBACtB,qBACE,6LAAC;4BAAK,WAAU;sCAAoC;;;;;;oBAExD;oBAEA,QAAQ,CAAC,EAAE,GAAG,AAAC,QAAQ,CAAC,EAAE,CAAY,OAAO,CAAC,OAAO;gBACvD;gBAEA,MAAM,QAAQ,iBAAiB,IAAI,CAAC,aAAa;gBAEjD,IAAI,QAAQ;oBACV,qBACE,6LAAC;wBAAK,WAAW;wBAAY,GAAG,KAAK;kCAClC;;;;;;gBAGP;gBAEA,qBACE,6LAAC,iIAAA,CAAA,YAAS;oBAER,UAAU,AAAC,SAAS,KAAK,CAAC,EAAE,IAAK;oBACjC,OAAO,OAAO,UAAU,OAAO,CAAC,OAAO;oBACtC,GAAG,KAAK;mBAHJ,KAAK,MAAM;;;;;YAMtB;YACA,GAAG,gIAAA,CAAA,SAAM;QACX;kBAEC;;;;;;AAGP;KA9EgB;AAgFhB,qDAAqD;AACrD,6DAA6D;AAC7D,MAAM,kBAAkB,CAAC;IACvB,MAAM,wBAAwB,QAAQ,OAAO,CAC3C,uBACA,CAAC,GAAG,WAAa,CAAC,EAAE,EAAE,SAAS,EAAE,CAAC;IAEpC,MAAM,yBAAyB,sBAAsB,OAAO,CAC1D,uBACA,CAAC,GAAG,WAAa,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;IAElC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 751, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/chat-share.tsx"],"sourcesContent":["'use client'\n\nimport { shareChat } from '@/lib/actions/chat'\nimport { useCopyToClipboard } from '@/lib/hooks/use-copy-to-clipboard'\nimport { cn } from '@/lib/utils'\nimport { Share } from 'lucide-react'\nimport { useState, useTransition } from 'react'\nimport { toast } from 'sonner'\nimport { Button } from './ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from './ui/dialog'\nimport { Spinner } from './ui/spinner'\n\ninterface ChatShareProps {\n  chatId: string\n  className?: string\n}\n\nexport function ChatShare({ chatId, className }: ChatShareProps) {\n  const [open, setOpen] = useState(false)\n  const [pending, startTransition] = useTransition()\n  const { copyToClipboard } = useCopyToClipboard({ timeout: 1000 })\n  const [shareUrl, setShareUrl] = useState('')\n\n  const handleShare = async () => {\n    startTransition(() => {\n      setOpen(true)\n    })\n    const result = await shareChat(chatId)\n    if (!result) {\n      toast.error('Failed to share chat')\n      return\n    }\n\n    if (!result.sharePath) {\n      toast.error('Could not copy link to clipboard')\n      return\n    }\n\n    const url = new URL(result.sharePath, window.location.href)\n    setShareUrl(url.toString())\n  }\n\n  const handleCopy = () => {\n    if (shareUrl) {\n      copyToClipboard(shareUrl)\n      toast.success('Link copied to clipboard')\n      setOpen(false)\n    } else {\n      toast.error('No link to copy')\n    }\n  }\n\n  return (\n    <div className={className}>\n      <Dialog\n        open={open}\n        onOpenChange={open => setOpen(open)}\n        aria-labelledby=\"share-dialog-title\"\n        aria-describedby=\"share-dialog-description\"\n      >\n        <DialogTrigger asChild>\n          <Button\n            className={cn('rounded-full')}\n            size=\"icon\"\n            variant={'ghost'}\n            onClick={() => setOpen(true)}\n          >\n            <Share size={14} />\n          </Button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Share link to search result</DialogTitle>\n            <DialogDescription>\n              Anyone with the link will be able to view this search result.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter className=\"items-center\">\n            {!shareUrl && (\n              <Button onClick={handleShare} disabled={pending} size=\"sm\">\n                {pending ? <Spinner /> : 'Get link'}\n              </Button>\n            )}\n            {shareUrl && (\n              <Button onClick={handleCopy} disabled={pending} size=\"sm\">\n                {'Copy link'}\n              </Button>\n            )}\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;;;AAlBA;;;;;;;;;;AAyBO,SAAS,UAAU,EAAE,MAAM,EAAE,SAAS,EAAkB;;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;IAC/C,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,qBAAkB,AAAD,EAAE;QAAE,SAAS;IAAK;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,cAAc;QAClB,gBAAgB;YACd,QAAQ;QACV;QACA,MAAM,SAAS,MAAM,CAAA,GAAA,yHAAA,CAAA,YAAS,AAAD,EAAE;QAC/B,IAAI,CAAC,QAAQ;YACX,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,OAAO,SAAS,EAAE;YACrB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,MAAM,IAAI,IAAI,OAAO,SAAS,EAAE,OAAO,QAAQ,CAAC,IAAI;QAC1D,YAAY,IAAI,QAAQ;IAC1B;IAEA,MAAM,aAAa;QACjB,IAAI,UAAU;YACZ,gBAAgB;YAChB,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,QAAQ;QACV,OAAO;YACL,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW;kBACd,cAAA,6LAAC,8HAAA,CAAA,SAAM;YACL,MAAM;YACN,cAAc,CAAA,OAAQ,QAAQ;YAC9B,mBAAgB;YAChB,oBAAiB;;8BAEjB,6LAAC,8HAAA,CAAA,gBAAa;oBAAC,OAAO;8BACpB,cAAA,6LAAC,8HAAA,CAAA,SAAM;wBACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE;wBACd,MAAK;wBACL,SAAS;wBACT,SAAS,IAAM,QAAQ;kCAEvB,cAAA,6LAAC,uMAAA,CAAA,QAAK;4BAAC,MAAM;;;;;;;;;;;;;;;;8BAGjB,6LAAC,8HAAA,CAAA,gBAAa;;sCACZ,6LAAC,8HAAA,CAAA,eAAY;;8CACX,6LAAC,8HAAA,CAAA,cAAW;8CAAC;;;;;;8CACb,6LAAC,8HAAA,CAAA,oBAAiB;8CAAC;;;;;;;;;;;;sCAIrB,6LAAC,8HAAA,CAAA,eAAY;4BAAC,WAAU;;gCACrB,CAAC,0BACA,6LAAC,8HAAA,CAAA,SAAM;oCAAC,SAAS;oCAAa,UAAU;oCAAS,MAAK;8CACnD,wBAAU,6LAAC,+HAAA,CAAA,UAAO;;;;+CAAM;;;;;;gCAG5B,0BACC,6LAAC,8HAAA,CAAA,SAAM;oCAAC,SAAS;oCAAY,UAAU;oCAAS,MAAK;8CAClD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;GA5EgB;;QAEqB,6JAAA,CAAA,gBAAa;QACpB,iJAAA,CAAA,qBAAkB;;;KAHhC","debugId":null}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/message-actions.tsx"],"sourcesContent":["'use client'\n\nimport { CHAT_ID } from '@/lib/constants'\nimport { cn } from '@/lib/utils'\nimport { useChat } from 'ai/react'\nimport { Copy } from 'lucide-react'\nimport { toast } from 'sonner'\nimport { ChatShare } from './chat-share'\nimport { Button } from './ui/button'\n\ninterface MessageActionsProps {\n  message: string\n  chatId?: string\n  enableShare?: boolean\n  className?: string\n}\n\nexport function MessageActions({\n  message,\n  chatId,\n  enableShare,\n  className\n}: MessageActionsProps) {\n  const { isLoading } = useChat({\n    id: CHAT_ID\n  })\n  async function handleCopy() {\n    await navigator.clipboard.writeText(message)\n    toast.success('Message copied to clipboard')\n  }\n\n  if (isLoading) {\n    return <div className=\"size-10\" />\n  }\n\n  return (\n    <div className={cn('flex items-center gap-0.5 self-end', className)}>\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        onClick={handleCopy}\n        className=\"rounded-full\"\n      >\n        <Copy size={14} />\n      </Button>\n      {enableShare && chatId && <ChatShare chatId={chatId} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAiBO,SAAS,eAAe,EAC7B,OAAO,EACP,MAAM,EACN,WAAW,EACX,SAAS,EACW;;IACpB,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,4HAAA,CAAA,UAAO;IACb;IACA,eAAe;QACb,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;QACpC,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAChB;IAEA,IAAI,WAAW;QACb,qBAAO,6LAAC;YAAI,WAAU;;;;;;IACxB;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;;0BACvD,6LAAC,8HAAA,CAAA,SAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,qMAAA,CAAA,OAAI;oBAAC,MAAM;;;;;;;;;;;YAEb,eAAe,wBAAU,6LAAC,+HAAA,CAAA,YAAS;gBAAC,QAAQ;;;;;;;;;;;;AAGnD;GA/BgB;;QAMQ,gJAAA,CAAA,UAAO;;;KANf","debugId":null}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1181, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/answer-section.tsx"],"sourcesContent":["'use client'\n\nimport { Text } from 'lucide-react'\nimport { CollapsibleMessage } from './collapsible-message'\nimport { DefaultSkeleton } from './default-skeleton'\nimport { BotMessage } from './message'\nimport { MessageActions } from './message-actions'\n\nexport type AnswerSectionProps = {\n  content: string\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n  chatId?: string\n}\n\nexport function AnswerSection({\n  content,\n  isOpen,\n  onOpenChange,\n  chatId\n}: AnswerSectionProps) {\n  const enableShare = process.env.NEXT_PUBLIC_ENABLE_SHARE === 'true'\n\n  const header = (\n    <div className=\"flex items-center gap-1\">\n      <Text size={16} />\n      <div>Answer</div>\n    </div>\n  )\n  const message = content ? (\n    <div className=\"flex flex-col gap-1\">\n      <BotMessage message={content} />\n      <MessageActions\n        message={content}\n        chatId={chatId}\n        enableShare={enableShare}\n      />\n    </div>\n  ) : (\n    <DefaultSkeleton />\n  )\n  return (\n    <CollapsibleMessage\n      role=\"assistant\"\n      isCollapsible={false}\n      header={header}\n      isOpen={isOpen}\n      onOpenChange={onOpenChange}\n      showBorder={false}\n    >\n      {message}\n    </CollapsibleMessage>\n  )\n}\n"],"names":[],"mappings":";;;AAqBsB;;AAnBtB;AACA;AACA;AACA;AACA;AANA;;;;;;;AAeO,SAAS,cAAc,EAC5B,OAAO,EACP,MAAM,EACN,YAAY,EACZ,MAAM,EACa;IACnB,MAAM,cAAc,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,wBAAwB,KAAK;IAE7D,MAAM,uBACJ,6LAAC;QAAI,WAAU;;0BACb,6LAAC,qMAAA,CAAA,OAAI;gBAAC,MAAM;;;;;;0BACZ,6LAAC;0BAAI;;;;;;;;;;;;IAGT,MAAM,UAAU,wBACd,6LAAC;QAAI,WAAU;;0BACb,6LAAC,yHAAA,CAAA,aAAU;gBAAC,SAAS;;;;;;0BACrB,6LAAC,oIAAA,CAAA,iBAAc;gBACb,SAAS;gBACT,QAAQ;gBACR,aAAa;;;;;;;;;;;6BAIjB,6LAAC,qIAAA,CAAA,kBAAe;;;;;IAElB,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QACjB,MAAK;QACL,eAAe;QACf,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,YAAY;kBAEX;;;;;;AAGP;KAtCgB","debugId":null}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1278, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground'\n      }\n    },\n    defaultVariants: {\n      variant: 'default'\n    }\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 1320, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1326, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/status-indicator.tsx"],"sourcesContent":["import { LucideIcon } from 'lucide-react'\nimport { ReactNode } from 'react'\n\ninterface StatusIndicatorProps {\n  icon: LucideIcon\n  iconClassName?: string\n  children: ReactNode\n}\n\nexport function StatusIndicator({\n  icon: Icon,\n  iconClassName,\n  children\n}: StatusIndicatorProps) {\n  return (\n    <span className=\"flex items-center gap-1 text-muted-foreground text-xs\">\n      <Icon size={16} className={iconClassName} />\n      <span>{children}</span>\n    </span>\n  )\n}\n"],"names":[],"mappings":";;;;;AASO,SAAS,gBAAgB,EAC9B,MAAM,IAAI,EACV,aAAa,EACb,QAAQ,EACa;IACrB,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAK,MAAM;gBAAI,WAAW;;;;;;0BAC3B,6LAAC;0BAAM;;;;;;;;;;;;AAGb;KAXgB","debugId":null}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1369, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/reasoning-section.tsx"],"sourcesContent":["'use client'\n\nimport { Badge } from '@/components/ui/badge'\nimport { Check, Lightbulb, Loader2 } from 'lucide-react'\nimport { CollapsibleMessage } from './collapsible-message'\nimport { DefaultSkeleton } from './default-skeleton'\nimport { BotMessage } from './message'\nimport { StatusIndicator } from './ui/status-indicator'\n\ninterface ReasoningContent {\n  reasoning: string\n  time?: number\n}\n\nexport interface ReasoningSectionProps {\n  content: ReasoningContent\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function ReasoningSection({\n  content,\n  isOpen,\n  onOpenChange\n}: ReasoningSectionProps) {\n  const reasoningHeader = (\n    <div className=\"flex items-center gap-2 w-full\">\n      <div className=\"w-full flex flex-col\">\n        <div className=\"flex items-center justify-between\">\n          <Badge className=\"flex items-center gap-0.5\" variant=\"secondary\">\n            <Lightbulb size={16} />\n            {content.time === 0\n              ? 'Thinking...'\n              : content.time !== undefined && content.time > 0\n              ? `Thought for ${(content.time / 1000).toFixed(1)} seconds`\n              : 'Thoughts'}\n          </Badge>\n          {content.time === 0 ? (\n            <Loader2\n              size={16}\n              className=\"animate-spin text-muted-foreground/50\"\n            />\n          ) : (\n            <StatusIndicator icon={Check} iconClassName=\"text-green-500\">\n              {`${content.reasoning.length.toLocaleString()} characters`}\n            </StatusIndicator>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n\n  if (!content) return <DefaultSkeleton />\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <CollapsibleMessage\n        role=\"assistant\"\n        isCollapsible={true}\n        header={reasoningHeader}\n        isOpen={isOpen}\n        onOpenChange={onOpenChange}\n        showBorder={true}\n      >\n        <BotMessage\n          message={content.reasoning}\n          className=\"prose-p:text-muted-foreground\"\n        />\n      </CollapsibleMessage>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAoBO,SAAS,iBAAiB,EAC/B,OAAO,EACP,MAAM,EACN,YAAY,EACU;IACtB,MAAM,gCACJ,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6HAAA,CAAA,QAAK;wBAAC,WAAU;wBAA4B,SAAQ;;0CACnD,6LAAC,+MAAA,CAAA,YAAS;gCAAC,MAAM;;;;;;4BAChB,QAAQ,IAAI,KAAK,IACd,gBACA,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,GAAG,IAC7C,CAAC,YAAY,EAAE,CAAC,QAAQ,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,GAAG,QAAQ,CAAC,GACzD;;;;;;;oBAEL,QAAQ,IAAI,KAAK,kBAChB,6LAAC,oNAAA,CAAA,UAAO;wBACN,MAAM;wBACN,WAAU;;;;;6CAGZ,6LAAC,2IAAA,CAAA,kBAAe;wBAAC,MAAM,uMAAA,CAAA,QAAK;wBAAE,eAAc;kCACzC,GAAG,QAAQ,SAAS,CAAC,MAAM,CAAC,cAAc,GAAG,WAAW,CAAC;;;;;;;;;;;;;;;;;;;;;;IAQtE,IAAI,CAAC,SAAS,qBAAO,6LAAC,qIAAA,CAAA,kBAAe;;;;;IAErC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,wIAAA,CAAA,qBAAkB;YACjB,MAAK;YACL,eAAe;YACf,QAAQ;YACR,QAAQ;YACR,cAAc;YACd,YAAY;sBAEZ,cAAA,6LAAC,yHAAA,CAAA,aAAU;gBACT,SAAS,QAAQ,SAAS;gBAC1B,WAAU;;;;;;;;;;;;;;;;AAKpB;KAnDgB","debugId":null}},
    {"offset": {"line": 1486, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1492, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/related-questions.tsx"],"sourcesContent":["'use client'\n\nimport { CHAT_ID } from '@/lib/constants'\nimport { JSONValue } from 'ai'\nimport { useChat } from 'ai/react'\nimport { ArrowRight, Repeat2 } from 'lucide-react'\nimport React from 'react'\nimport { CollapsibleMessage } from './collapsible-message'\nimport { Button } from './ui/button'\nimport { Skeleton } from './ui/skeleton'\n\nexport interface RelatedQuestionsProps {\n  annotations: JSONValue[]\n  onQuerySelect: (query: string) => void\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\ninterface RelatedQuestionsAnnotation extends Record<string, JSONValue> {\n  type: 'related-questions'\n  data: {\n    items: Array<{ query: string }>\n  }\n}\n\nexport const RelatedQuestions: React.FC<RelatedQuestionsProps> = ({\n  annotations,\n  onQuerySelect,\n  isOpen,\n  onOpenChange\n}) => {\n  const { isLoading } = useChat({\n    id: CHAT_ID\n  })\n\n  if (!annotations) {\n    return null\n  }\n\n  const lastRelatedQuestionsAnnotation = annotations[\n    annotations.length - 1\n  ] as RelatedQuestionsAnnotation\n\n  const header = (\n    <div className=\"flex items-center gap-1\">\n      <Repeat2 size={16} />\n      <div>Related</div>\n    </div>\n  )\n\n  const relatedQuestions = lastRelatedQuestionsAnnotation?.data\n  if ((!relatedQuestions || !relatedQuestions.items) && !isLoading) {\n    return null\n  }\n\n  if (relatedQuestions.items.length === 0 && isLoading) {\n    return (\n      <CollapsibleMessage\n        role=\"assistant\"\n        isCollapsible={true}\n        header={header}\n        isOpen={isOpen}\n        onOpenChange={onOpenChange}\n      >\n        <Skeleton className=\"w-full h-6\" />\n      </CollapsibleMessage>\n    )\n  }\n\n  return (\n    <CollapsibleMessage\n      role=\"assistant\"\n      isCollapsible={true}\n      header={header}\n      isOpen={isOpen}\n      onOpenChange={onOpenChange}\n    >\n      <div className=\"flex flex-wrap\">\n        {Array.isArray(relatedQuestions.items) ? (\n          relatedQuestions.items\n            ?.filter(item => item?.query !== '')\n            .map((item, index) => (\n              <div className=\"flex items-start w-full\" key={index}>\n                <ArrowRight className=\"h-4 w-4 mr-2 mt-1 flex-shrink-0 text-accent-foreground/50\" />\n                <Button\n                  variant=\"link\"\n                  className=\"flex-1 justify-start px-0 py-1 h-fit font-semibold text-accent-foreground/50 whitespace-normal text-left\"\n                  type=\"submit\"\n                  name={'related_query'}\n                  value={item?.query}\n                  onClick={() => onQuerySelect(item?.query)}\n                >\n                  {item?.query}\n                </Button>\n              </div>\n            ))\n        ) : (\n          <div>Not an array</div>\n        )}\n      </div>\n    </CollapsibleMessage>\n  )\n}\nexport default RelatedQuestions\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AAEA;AACA;AACA;;;AATA;;;;;;;AAyBO,MAAM,mBAAoD,CAAC,EAChE,WAAW,EACX,aAAa,EACb,MAAM,EACN,YAAY,EACb;;IACC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,4HAAA,CAAA,UAAO;IACb;IAEA,IAAI,CAAC,aAAa;QAChB,OAAO;IACT;IAEA,MAAM,iCAAiC,WAAW,CAChD,YAAY,MAAM,GAAG,EACtB;IAED,MAAM,uBACJ,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+MAAA,CAAA,UAAO;gBAAC,MAAM;;;;;;0BACf,6LAAC;0BAAI;;;;;;;;;;;;IAIT,MAAM,mBAAmB,gCAAgC;IACzD,IAAI,CAAC,CAAC,oBAAoB,CAAC,iBAAiB,KAAK,KAAK,CAAC,WAAW;QAChE,OAAO;IACT;IAEA,IAAI,iBAAiB,KAAK,CAAC,MAAM,KAAK,KAAK,WAAW;QACpD,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;YACjB,MAAK;YACL,eAAe;YACf,QAAQ;YACR,QAAQ;YACR,cAAc;sBAEd,cAAA,6LAAC,gIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;;;;;;IAG1B;IAEA,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QACjB,MAAK;QACL,eAAe;QACf,QAAQ;QACR,QAAQ;QACR,cAAc;kBAEd,cAAA,6LAAC;YAAI,WAAU;sBACZ,MAAM,OAAO,CAAC,iBAAiB,KAAK,IACnC,iBAAiB,KAAK,EAClB,OAAO,CAAA,OAAQ,MAAM,UAAU,IAChC,IAAI,CAAC,MAAM,sBACV,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,qNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;sCACtB,6LAAC,8HAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,MAAK;4BACL,MAAM;4BACN,OAAO,MAAM;4BACb,SAAS,IAAM,cAAc,MAAM;sCAElC,MAAM;;;;;;;mBAVmC;;;;0CAelD,6LAAC;0BAAI;;;;;;;;;;;;;;;;AAKf;GA7Ea;;QAMW,gJAAA,CAAA,UAAO;;;KANlB;uCA8EE","debugId":null}},
    {"offset": {"line": 1635, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1641, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn('aspect-square h-full w-full', className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      'flex h-full w-full items-center justify-center rounded-full bg-muted',\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1699, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1705, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = 'Card'\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n))\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n))\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n))\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1802, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1808, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/search-results.tsx"],"sourcesContent":["'use client'\n\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { SearchResultItem } from '@/lib/types'\nimport Link from 'next/link'\nimport { useState } from 'react'\n\nexport interface SearchResultsProps {\n  results: SearchResultItem[]\n}\n\nexport function SearchResults({ results }: SearchResultsProps) {\n  // State to manage whether to display the results\n  const [showAllResults, setShowAllResults] = useState(false)\n\n  const handleViewMore = () => {\n    setShowAllResults(true)\n  }\n\n  const displayedResults = showAllResults ? results : results.slice(0, 3)\n  const additionalResultsCount = results.length > 3 ? results.length - 3 : 0\n  const displayUrlName = (url: string) => {\n    const hostname = new URL(url).hostname\n    const parts = hostname.split('.')\n    return parts.length > 2 ? parts.slice(1, -1).join('.') : parts[0]\n  }\n\n  return (\n    <div className=\"flex flex-wrap\">\n      {displayedResults.map((result, index) => (\n        <div className=\"w-1/2 md:w-1/4 p-1\" key={index}>\n          <Link href={result.url} passHref target=\"_blank\">\n            <Card className=\"flex-1 h-full\">\n              <CardContent className=\"p-2 flex flex-col justify-between h-full\">\n                <p className=\"text-xs line-clamp-2 min-h-[2rem]\">\n                  {result.title || result.content}\n                </p>\n                <div className=\"mt-2 flex items-center space-x-1\">\n                  <Avatar className=\"h-4 w-4\">\n                    <AvatarImage\n                      src={`https://www.google.com/s2/favicons?domain=${\n                        new URL(result.url).hostname\n                      }`}\n                      alt={new URL(result.url).hostname}\n                    />\n                    <AvatarFallback>\n                      {new URL(result.url).hostname[0]}\n                    </AvatarFallback>\n                  </Avatar>\n                  <div className=\"text-xs opacity-60 truncate\">\n                    {`${displayUrlName(result.url)} - ${index + 1}`}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </Link>\n        </div>\n      ))}\n      {!showAllResults && additionalResultsCount > 0 && (\n        <div className=\"w-1/2 md:w-1/4 p-1\">\n          <Card className=\"flex-1 flex h-full items-center justify-center\">\n            <CardContent className=\"p-2\">\n              <Button\n                variant={'link'}\n                className=\"text-muted-foreground\"\n                onClick={handleViewMore}\n              >\n                View {additionalResultsCount} more\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;;;AAPA;;;;;;AAaO,SAAS,cAAc,EAAE,OAAO,EAAsB;;IAC3D,iDAAiD;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,iBAAiB;QACrB,kBAAkB;IACpB;IAEA,MAAM,mBAAmB,iBAAiB,UAAU,QAAQ,KAAK,CAAC,GAAG;IACrE,MAAM,yBAAyB,QAAQ,MAAM,GAAG,IAAI,QAAQ,MAAM,GAAG,IAAI;IACzE,MAAM,iBAAiB,CAAC;QACtB,MAAM,WAAW,IAAI,IAAI,KAAK,QAAQ;QACtC,MAAM,QAAQ,SAAS,KAAK,CAAC;QAC7B,OAAO,MAAM,MAAM,GAAG,IAAI,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;IACnE;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,iBAAiB,GAAG,CAAC,CAAC,QAAQ,sBAC7B,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAM,OAAO,GAAG;wBAAE,QAAQ;wBAAC,QAAO;kCACtC,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;sCACd,cAAA,6LAAC,4HAAA,CAAA,cAAW;gCAAC,WAAU;;kDACrB,6LAAC;wCAAE,WAAU;kDACV,OAAO,KAAK,IAAI,OAAO,OAAO;;;;;;kDAEjC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,8HAAA,CAAA,SAAM;gDAAC,WAAU;;kEAChB,6LAAC,8HAAA,CAAA,cAAW;wDACV,KAAK,CAAC,0CAA0C,EAC9C,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ,EAC5B;wDACF,KAAK,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ;;;;;;kEAEnC,6LAAC,8HAAA,CAAA,iBAAc;kEACZ,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ,CAAC,EAAE;;;;;;;;;;;;0DAGpC,6LAAC;gDAAI,WAAU;0DACZ,GAAG,eAAe,OAAO,GAAG,EAAE,GAAG,EAAE,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBApBlB;;;;;YA4B1C,CAAC,kBAAkB,yBAAyB,mBAC3C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4HAAA,CAAA,OAAI;oBAAC,WAAU;8BACd,cAAA,6LAAC,4HAAA,CAAA,cAAW;wBAAC,WAAU;kCACrB,cAAA,6LAAC,8HAAA,CAAA,SAAM;4BACL,SAAS;4BACT,WAAU;4BACV,SAAS;;gCACV;gCACO;gCAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7C;GAhEgB;KAAA","debugId":null}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1978, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/carousel.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType\n} from 'embla-carousel-react'\nimport { ArrowLeft, ArrowRight } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport { Button } from '@/components/ui/button'\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: 'horizontal' | 'vertical'\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error('useCarousel must be used within a <Carousel />')\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = 'horizontal',\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === 'horizontal' ? 'x' : 'y'\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === 'ArrowLeft') {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === 'ArrowRight') {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on('reInit', onSelect)\n      api.on('select', onSelect)\n\n      return () => {\n        api?.off('select', onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn('relative', className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = 'Carousel'\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          'flex',\n          orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = 'CarouselContent'\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        'min-w-0 shrink-0 grow-0 basis-full',\n        orientation === 'horizontal' ? 'pl-4' : 'pt-4',\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = 'CarouselItem'\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute  h-8 w-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-left-12 top-1/2 -translate-y-1/2'\n          : '-top-12 left-1/2 -translate-x-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = 'CarouselPrevious'\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute h-8 w-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-right-12 top-1/2 -translate-y-1/2'\n          : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = 'CarouselNext'\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2283, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2289, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/search-results-image.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\n'use client'\n\nimport { Card, CardContent } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport {\n  Carousel,\n  type CarouselApi,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious\n} from '@/components/ui/carousel'\nimport { useEffect, useState } from 'react'\nimport { PlusCircle } from 'lucide-react'\nimport { SearchResultImage } from '@/lib/types'\n\ninterface SearchResultsImageSectionProps {\n  images: SearchResultImage[]\n  query?: string\n}\n\nexport const SearchResultsImageSection: React.FC<\n  SearchResultsImageSectionProps\n> = ({ images, query }) => {\n  const [api, setApi] = useState<CarouselApi>()\n  const [current, setCurrent] = useState(0)\n  const [count, setCount] = useState(0)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n\n  // Update the current and count state when the carousel api is available\n  useEffect(() => {\n    if (!api) {\n      return\n    }\n\n    setCount(api.scrollSnapList().length)\n    setCurrent(api.selectedScrollSnap() + 1)\n\n    api.on('select', () => {\n      setCurrent(api.selectedScrollSnap() + 1)\n    })\n  }, [api])\n\n  // Scroll to the selected index\n  useEffect(() => {\n    if (api) {\n      api.scrollTo(selectedIndex, true)\n    }\n  }, [api, selectedIndex])\n\n  if (!images || images.length === 0) {\n    return <div className=\"text-muted-foreground\">No images found</div>\n  }\n\n  // If enabled the include_images_description is true, the images will be an array of { url: string, description: string }\n  // Otherwise, the images will be an array of strings\n  let convertedImages: { url: string; description: string }[] = []\n  if (typeof images[0] === 'string') {\n    convertedImages = (images as string[]).map(image => ({\n      url: image,\n      description: ''\n    }))\n  } else {\n    convertedImages = images as { url: string; description: string }[]\n  }\n\n  return (\n    <div className=\"flex flex-wrap gap-2\">\n      {convertedImages.slice(0, 4).map((image, index) => (\n        <Dialog key={index}>\n          <DialogTrigger asChild>\n            <div\n              className=\"w-[calc(50%-0.5rem)] md:w-[calc(25%-0.5rem)] aspect-video cursor-pointer relative\"\n              onClick={() => setSelectedIndex(index)}\n            >\n              <Card className=\"flex-1 h-full\">\n                <CardContent className=\"p-2 h-full w-full\">\n                  {image ? (\n                    <img\n                      src={image.url}\n                      alt={`Image ${index + 1}`}\n                      className=\"h-full w-full object-cover\"\n                      onError={e =>\n                        (e.currentTarget.src = '/images/placeholder-image.png')\n                      }\n                    />\n                  ) : (\n                    <div className=\"w-full h-full bg-muted animate-pulse\" />\n                  )}\n                </CardContent>\n              </Card>\n              {index === 3 && images.length > 4 && (\n                <div className=\"absolute inset-0 bg-black/30 rounded-md flex items-center justify-center text-white/80 text-sm\">\n                  <PlusCircle size={24} />\n                </div>\n              )}\n            </div>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-3xl max-h-[80vh] overflow-auto\">\n            <DialogHeader>\n              <DialogTitle>Search Images</DialogTitle>\n              <DialogDescription className=\"text-sm\">{query}</DialogDescription>\n            </DialogHeader>\n            <div className=\"py-4\">\n              <Carousel\n                setApi={setApi}\n                className=\"w-full bg-muted max-h-[60vh]\"\n              >\n                <CarouselContent>\n                  {convertedImages.map((img, idx) => (\n                    <CarouselItem key={idx}>\n                      <div className=\"p-1 flex items-center justify-center h-full\">\n                        <img\n                          src={img.url}\n                          alt={`Image ${idx + 1}`}\n                          className=\"h-auto w-full object-contain max-h-[60vh]\"\n                          onError={e =>\n                            (e.currentTarget.src =\n                              '/images/placeholder-image.png')\n                          }\n                        />\n                      </div>\n                    </CarouselItem>\n                  ))}\n                </CarouselContent>\n                <div className=\"absolute inset-8 flex items-center justify-between p-4\">\n                  <CarouselPrevious className=\"w-10 h-10 rounded-full shadow focus:outline-none\">\n                    <span className=\"sr-only\">Previous</span>\n                  </CarouselPrevious>\n                  <CarouselNext className=\"w-10 h-10 rounded-full shadow focus:outline-none\">\n                    <span className=\"sr-only\">Next</span>\n                  </CarouselNext>\n                </div>\n              </Carousel>\n              <div className=\"py-2 text-center text-sm text-muted-foreground\">\n                {current} of {count}\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2576, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2582, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/tool-badge.tsx"],"sourcesContent":["import React from 'react'\nimport { Link, Search, Video } from 'lucide-react'\nimport { Badge } from './ui/badge'\n\ntype ToolBadgeProps = {\n  tool: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport const ToolBadge: React.FC<ToolBadgeProps> = ({\n  tool,\n  children,\n  className\n}) => {\n  const icon: Record<string, React.ReactNode> = {\n    search: <Search size={14} />,\n    retrieve: <Link size={14} />,\n    video_search: <Video size={14} />\n  }\n\n  return (\n    <Badge className={className} variant={'secondary'}>\n      {icon[tool]}\n      <span className=\"ml-1\">{children}</span>\n    </Badge>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AACA;;;;AAQO,MAAM,YAAsC,CAAC,EAClD,IAAI,EACJ,QAAQ,EACR,SAAS,EACV;IACC,MAAM,OAAwC;QAC5C,sBAAQ,6LAAC,yMAAA,CAAA,SAAM;YAAC,MAAM;;;;;;QACtB,wBAAU,6LAAC,qMAAA,CAAA,OAAI;YAAC,MAAM;;;;;;QACtB,4BAAc,6LAAC,uMAAA,CAAA,QAAK;YAAC,MAAM;;;;;;IAC7B;IAEA,qBACE,6LAAC,6HAAA,CAAA,QAAK;QAAC,WAAW;QAAW,SAAS;;YACnC,IAAI,CAAC,KAAK;0BACX,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;;;;;;;AAG9B;KAjBa","debugId":null}},
    {"offset": {"line": 2643, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2649, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/section.tsx"],"sourcesContent":["'use client'\n\nimport { cn } from '@/lib/utils'\nimport {\n  BookCheck,\n  Check,\n  Film,\n  Image,\n  MessageCircleMore,\n  Newspaper,\n  Repeat2,\n  Search\n} from 'lucide-react'\nimport React from 'react'\nimport { ToolBadge } from './tool-badge'\nimport { Badge } from './ui/badge'\nimport { Separator } from './ui/separator'\nimport { StatusIndicator } from './ui/status-indicator'\n\ntype SectionProps = {\n  children: React.ReactNode\n  className?: string\n  size?: 'sm' | 'md' | 'lg'\n  title?: string\n  separator?: boolean\n}\n\nexport const Section: React.FC<SectionProps> = ({\n  children,\n  className,\n  size = 'md',\n  title,\n  separator = false\n}) => {\n  const iconSize = 16\n  const iconClassName = 'mr-1.5 text-muted-foreground'\n  let icon: React.ReactNode\n  switch (title) {\n    case 'Images':\n      // eslint-disable-next-line jsx-a11y/alt-text\n      icon = <Image size={iconSize} className={iconClassName} />\n      break\n    case 'Videos':\n      icon = <Film size={iconSize} className={iconClassName} />\n      break\n    case 'Sources':\n      icon = <Newspaper size={iconSize} className={iconClassName} />\n      break\n    case 'Answer':\n      icon = <BookCheck size={iconSize} className={iconClassName} />\n      break\n    case 'Related':\n      icon = <Repeat2 size={iconSize} className={iconClassName} />\n      break\n    case 'Follow-up':\n      icon = <MessageCircleMore size={iconSize} className={iconClassName} />\n      break\n    default:\n      icon = <Search size={iconSize} className={iconClassName} />\n  }\n\n  return (\n    <>\n      {separator && <Separator className=\"my-2 bg-primary/10\" />}\n      <section\n        className={cn(\n          ` ${size === 'sm' ? 'py-1' : size === 'lg' ? 'py-4' : 'py-1'}`,\n          className\n        )}\n      >\n        {title && (\n          <Badge\n            variant=\"secondary\"\n            className=\"flex items-center leading-none w-fit my-1\"\n          >\n            {icon}\n            {title}\n          </Badge>\n        )}\n        {children}\n      </section>\n    </>\n  )\n}\n\nexport function ToolArgsSection({\n  children,\n  tool,\n  number\n}: {\n  children: React.ReactNode\n  tool: string\n  number?: number\n}) {\n  return (\n    <Section size=\"sm\" className=\"py-0 flex items-center justify-between\">\n      <ToolBadge tool={tool}>{children}</ToolBadge>\n      {number && (\n        <StatusIndicator icon={Check} iconClassName=\"text-green-500\">\n          {number} results\n        </StatusIndicator>\n      )}\n    </Section>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAjBA;;;;;;;;AA2BO,MAAM,UAAkC,CAAC,EAC9C,QAAQ,EACR,SAAS,EACT,OAAO,IAAI,EACX,KAAK,EACL,YAAY,KAAK,EAClB;IACC,MAAM,WAAW;IACjB,MAAM,gBAAgB;IACtB,IAAI;IACJ,OAAQ;QACN,KAAK;YACH,6CAA6C;YAC7C,qBAAO,6LAAC,uMAAA,CAAA,QAAK;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACzC;QACF,KAAK;YACH,qBAAO,6LAAC,qMAAA,CAAA,OAAI;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACxC;QACF,KAAK;YACH,qBAAO,6LAAC,+MAAA,CAAA,YAAS;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC7C;QACF,KAAK;YACH,qBAAO,6LAAC,mNAAA,CAAA,YAAS;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC7C;QACF,KAAK;YACH,qBAAO,6LAAC,+MAAA,CAAA,UAAO;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC3C;QACF,KAAK;YACH,qBAAO,6LAAC,uOAAA,CAAA,oBAAiB;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACrD;QACF;YACE,qBAAO,6LAAC,yMAAA,CAAA,SAAM;gBAAC,MAAM;gBAAU,WAAW;;;;;;IAC9C;IAEA,qBACE;;YACG,2BAAa,6LAAC,iIAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;0BACnC,6LAAC;gBACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,CAAC,CAAC,EAAE,SAAS,OAAO,SAAS,SAAS,OAAO,SAAS,QAAQ,EAC9D;;oBAGD,uBACC,6LAAC,6HAAA,CAAA,QAAK;wBACJ,SAAQ;wBACR,WAAU;;4BAET;4BACA;;;;;;;oBAGJ;;;;;;;;;AAIT;KAxDa;AA0DN,SAAS,gBAAgB,EAC9B,QAAQ,EACR,IAAI,EACJ,MAAM,EAKP;IACC,qBACE,6LAAC;QAAQ,MAAK;QAAK,WAAU;;0BAC3B,6LAAC,+HAAA,CAAA,YAAS;gBAAC,MAAM;0BAAO;;;;;;YACvB,wBACC,6LAAC,2IAAA,CAAA,kBAAe;gBAAC,MAAM,uMAAA,CAAA,QAAK;gBAAE,eAAc;;oBACzC;oBAAO;;;;;;;;;;;;;AAKlB;MAnBgB","debugId":null}},
    {"offset": {"line": 2825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2831, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/search-section.tsx"],"sourcesContent":["'use client'\n\nimport { CHAT_ID } from '@/lib/constants'\nimport type { SearchResults as TypeSearchResults } from '@/lib/types'\nimport { ToolInvocation } from 'ai'\nimport { useChat } from 'ai/react'\nimport { CollapsibleMessage } from './collapsible-message'\nimport { SearchSkeleton } from './default-skeleton'\nimport { SearchResults } from './search-results'\nimport { SearchResultsImageSection } from './search-results-image'\nimport { Section, ToolArgsSection } from './section'\n\ninterface SearchSectionProps {\n  tool: ToolInvocation\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function SearchSection({\n  tool,\n  isOpen,\n  onOpenChange\n}: SearchSectionProps) {\n  const { isLoading } = useChat({\n    id: CHAT_ID\n  })\n  const isToolLoading = tool.state === 'call'\n  const searchResults: TypeSearchResults =\n    tool.state === 'result' ? tool.result : undefined\n  const query = tool.args?.query as string | undefined\n  const includeDomains = tool.args?.includeDomains as string[] | undefined\n  const includeDomainsString = includeDomains\n    ? ` [${includeDomains.join(', ')}]`\n    : ''\n\n  const header = (\n    <ToolArgsSection\n      tool=\"search\"\n      number={searchResults?.results?.length}\n    >{`${query}${includeDomainsString}`}</ToolArgsSection>\n  )\n\n  return (\n    <CollapsibleMessage\n      role=\"assistant\"\n      isCollapsible={true}\n      header={header}\n      isOpen={isOpen}\n      onOpenChange={onOpenChange}\n    >\n      {searchResults &&\n        searchResults.images &&\n        searchResults.images.length > 0 && (\n          <Section>\n            <SearchResultsImageSection\n              images={searchResults.images}\n              query={query}\n            />\n          </Section>\n        )}\n      {isLoading && isToolLoading ? (\n        <SearchSkeleton />\n      ) : searchResults?.results ? (\n        <Section title=\"Sources\">\n          <SearchResults results={searchResults.results} />\n        </Section>\n      ) : null}\n    </CollapsibleMessage>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;AAkBO,SAAS,cAAc,EAC5B,IAAI,EACJ,MAAM,EACN,YAAY,EACO;;IACnB,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,4HAAA,CAAA,UAAO;IACb;IACA,MAAM,gBAAgB,KAAK,KAAK,KAAK;IACrC,MAAM,gBACJ,KAAK,KAAK,KAAK,WAAW,KAAK,MAAM,GAAG;IAC1C,MAAM,QAAQ,KAAK,IAAI,EAAE;IACzB,MAAM,iBAAiB,KAAK,IAAI,EAAE;IAClC,MAAM,uBAAuB,iBACzB,CAAC,EAAE,EAAE,eAAe,IAAI,CAAC,MAAM,CAAC,CAAC,GACjC;IAEJ,MAAM,uBACJ,6LAAC,yHAAA,CAAA,kBAAe;QACd,MAAK;QACL,QAAQ,eAAe,SAAS;kBAChC,GAAG,QAAQ,sBAAsB;;;;;;IAGrC,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QACjB,MAAK;QACL,eAAe;QACf,QAAQ;QACR,QAAQ;QACR,cAAc;;YAEb,iBACC,cAAc,MAAM,IACpB,cAAc,MAAM,CAAC,MAAM,GAAG,mBAC5B,6LAAC,yHAAA,CAAA,UAAO;0BACN,cAAA,6LAAC,4IAAA,CAAA,4BAAyB;oBACxB,QAAQ,cAAc,MAAM;oBAC5B,OAAO;;;;;;;;;;;YAId,aAAa,8BACZ,6LAAC,qIAAA,CAAA,iBAAc;;;;uBACb,eAAe,wBACjB,6LAAC,yHAAA,CAAA,UAAO;gBAAC,OAAM;0BACb,cAAA,6LAAC,mIAAA,CAAA,gBAAa;oBAAC,SAAS,cAAc,OAAO;;;;;;;;;;uBAE7C;;;;;;;AAGV;GAnDgB;;QAKQ,gJAAA,CAAA,UAAO;;;KALf","debugId":null}},
    {"offset": {"line": 2928, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2934, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/video-search-results.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\n'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport { AvatarImage, Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { CardContent, Card } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport {\n  Carousel,\n  type CarouselApi,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious\n} from '@/components/ui/carousel'\nimport { SerperSearchResultItem, SerperSearchResults } from '@/lib/types'\nimport { PlusCircle } from 'lucide-react'\n\nexport interface VideoSearchResultsProps {\n  results: SerperSearchResults\n}\n\nexport function VideoSearchResults({ results }: VideoSearchResultsProps) {\n  const [api, setApi] = useState<CarouselApi>()\n  const [current, setCurrent] = useState(1)\n  const [count, setCount] = useState(0)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const videoRefs = useRef<(HTMLIFrameElement | null)[]>([])\n\n  // filter out the videos that path is not /watch\n  const videos = results.videos.filter((video: SerperSearchResultItem) => {\n    return new URL(video.link).pathname === '/watch'\n  })\n\n  // Update the current and count state when the carousel api is available\n  useEffect(() => {\n    if (api) {\n      setCount(api.scrollSnapList().length)\n      setCurrent(api.selectedScrollSnap() + 1)\n\n      api.on('select', () => {\n        const newCurrent = api.selectedScrollSnap() + 1\n        if (newCurrent !== current && videoRefs.current[current - 1]) {\n          const prevVideo = videoRefs.current[current - 1]\n          prevVideo?.contentWindow?.postMessage(\n            '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\n            '*'\n          )\n        }\n        setCurrent(newCurrent)\n      })\n    }\n  }, [api, current])\n\n  // Scroll to the selected index\n  useEffect(() => {\n    if (api) {\n      api.scrollTo(selectedIndex, true)\n    }\n  }, [api, selectedIndex])\n\n  if (!results.videos || results.videos.length === 0) {\n    return <div className=\"text-muted-foreground\">No videos found</div>\n  }\n\n  return (\n    <div className=\"flex flex-wrap\">\n      {videos.slice(0, 4).map((result: SerperSearchResultItem, index: any) => (\n        <Dialog key={index}>\n          <DialogTrigger asChild>\n            <div\n              className=\"w-1/2 md:w-1/4 p-1 cursor-pointer relative\"\n              onClick={() => setSelectedIndex(index)}\n            >\n              <Card className=\"flex-1 min-h-40 \">\n                <CardContent className=\"p-2\">\n                  <img\n                    src={result.imageUrl}\n                    alt={result.title}\n                    className=\"w-full aspect-video mb-2\"\n                    onError={e =>\n                      (e.currentTarget.src = '/images/placeholder-image.png')\n                    }\n                  />\n                  <p className=\"text-xs line-clamp-2\">{result.title}</p>\n                  <div className=\"mt-2 flex items-center space-x-2\">\n                    <Avatar className=\"h-4 w-4\">\n                      <AvatarImage\n                        src={`https://www.google.com/s2/favicons?domain=${\n                          new URL(result.link).hostname\n                        }`}\n                        alt={result.channel}\n                      />\n                      <AvatarFallback>\n                        {new URL(result.link).hostname[0]}\n                      </AvatarFallback>\n                    </Avatar>\n                    <div className=\"text-xs opacity-60 truncate\">\n                      {new URL(result.link).hostname}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n              {index === 3 && results.videos.length > 4 && (\n                <div className=\"absolute inset-0 bg-black/30 rounded-md flex items-center justify-center text-white/80 text-sm\">\n                  <PlusCircle size={24} />\n                </div>\n              )}\n            </div>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-3xl max-h-[80vh] overflow-auto\">\n            <DialogHeader>\n              <DialogTitle>Search Videos</DialogTitle>\n              <DialogDescription className=\"text-sm\">\n                {results.searchParameters.q}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"py-4\">\n              <Carousel\n                setApi={setApi}\n                className=\"w-full bg-muted max-h-[60vh]\"\n              >\n                <CarouselContent>\n                  {videos.map((video, idx) => {\n                    const videoId = video.link.split('v=')[1]\n                    return (\n                      <CarouselItem key={idx}>\n                        <div className=\"p-1 flex items-center justify-center h-full\">\n                          <iframe\n                            ref={el => {\n                              videoRefs.current[idx] = el\n                            }}\n                            src={`https://www.youtube.com/embed/${videoId}?enablejsapi=1`}\n                            className=\"w-full aspect-video\"\n                            title={video.title}\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                            allowFullScreen\n                          />\n                        </div>\n                      </CarouselItem>\n                    )\n                  })}\n                </CarouselContent>\n                <div className=\"absolute inset-8 flex items-center justify-between p-4 pointer-events-none\">\n                  <CarouselPrevious className=\"w-10 h-10 rounded-full shadow focus:outline-none pointer-events-auto\">\n                    <span className=\"sr-only\">Previous</span>\n                  </CarouselPrevious>\n                  <CarouselNext className=\"w-10 h-10 rounded-full shadow focus:outline-none pointer-events-auto\">\n                    <span className=\"sr-only\">Next</span>\n                  </CarouselNext>\n                </div>\n              </Carousel>\n              <div className=\"py-2\">\n                <div className=\"text-center text-sm text-muted-foreground\">\n                  {current} of {count}\n                </div>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3281, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3287, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/video-search-section.tsx"],"sourcesContent":["'use client'\n\nimport { DefaultSkeleton } from './default-skeleton'\nimport { Section, ToolArgsSection } from './section'\nimport type { SerperSearchResults } from '@/lib/types'\nimport { ToolInvocation } from 'ai'\nimport { VideoSearchResults } from './video-search-results'\nimport { CollapsibleMessage } from './collapsible-message'\n\ninterface VideoSearchSectionProps {\n  tool: ToolInvocation\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function VideoSearchSection({\n  tool,\n  isOpen,\n  onOpenChange\n}: VideoSearchSectionProps) {\n  const isLoading = tool.state === 'call'\n  const searchResults: SerperSearchResults =\n    tool.state === 'result' ? tool.result : undefined\n  const query = tool.args.q as string | undefined\n\n  const header = <ToolArgsSection tool=\"video_search\">{query}</ToolArgsSection>\n\n  return (\n    <CollapsibleMessage\n      role=\"assistant\"\n      isCollapsible={true}\n      header={header}\n      isOpen={isOpen}\n      onOpenChange={onOpenChange}\n    >\n      {!isLoading && searchResults ? (\n        <Section title=\"Videos\">\n          <VideoSearchResults results={searchResults} />\n        </Section>\n      ) : (\n        <DefaultSkeleton />\n      )}\n    </CollapsibleMessage>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;AACA;AAPA;;;;;;AAeO,SAAS,mBAAmB,EACjC,IAAI,EACJ,MAAM,EACN,YAAY,EACY;IACxB,MAAM,YAAY,KAAK,KAAK,KAAK;IACjC,MAAM,gBACJ,KAAK,KAAK,KAAK,WAAW,KAAK,MAAM,GAAG;IAC1C,MAAM,QAAQ,KAAK,IAAI,CAAC,CAAC;IAEzB,MAAM,uBAAS,6LAAC,yHAAA,CAAA,kBAAe;QAAC,MAAK;kBAAgB;;;;;;IAErD,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QACjB,MAAK;QACL,eAAe;QACf,QAAQ;QACR,QAAQ;QACR,cAAc;kBAEb,CAAC,aAAa,8BACb,6LAAC,yHAAA,CAAA,UAAO;YAAC,OAAM;sBACb,cAAA,6LAAC,4IAAA,CAAA,qBAAkB;gBAAC,SAAS;;;;;;;;;;iCAG/B,6LAAC,qIAAA,CAAA,kBAAe;;;;;;;;;;AAIxB;KA7BgB","debugId":null}},
    {"offset": {"line": 3349, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3355, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/retrieve-section.tsx"],"sourcesContent":["'use client'\n\nimport { Section, ToolArgsSection } from '@/components/section'\nimport { SearchResults } from '@/components/search-results'\nimport { SearchResults as SearchResultsType } from '@/lib/types'\nimport { ToolInvocation } from 'ai'\nimport { DefaultSkeleton } from './default-skeleton'\nimport { CollapsibleMessage } from './collapsible-message'\n\ninterface RetrieveSectionProps {\n  tool: ToolInvocation\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function RetrieveSection({\n  tool,\n  isOpen,\n  onOpenChange\n}: RetrieveSectionProps) {\n  const isLoading = tool.state === 'call'\n  const data: SearchResultsType =\n    tool.state === 'result' ? tool.result : undefined\n  const url = tool.args.url as string | undefined\n\n  const header = <ToolArgsSection tool=\"retrieve\">{url}</ToolArgsSection>\n\n  return (\n    <CollapsibleMessage\n      role=\"assistant\"\n      isCollapsible={true}\n      header={header}\n      isOpen={isOpen}\n      onOpenChange={onOpenChange}\n    >\n      {!isLoading && data ? (\n        <Section title=\"Sources\">\n          <SearchResults results={data.results} />\n        </Section>\n      ) : (\n        <DefaultSkeleton />\n      )}\n    </CollapsibleMessage>\n  )\n}\n\nexport default RetrieveSection\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAGA;AACA;AAPA;;;;;;AAeO,SAAS,gBAAgB,EAC9B,IAAI,EACJ,MAAM,EACN,YAAY,EACS;IACrB,MAAM,YAAY,KAAK,KAAK,KAAK;IACjC,MAAM,OACJ,KAAK,KAAK,KAAK,WAAW,KAAK,MAAM,GAAG;IAC1C,MAAM,MAAM,KAAK,IAAI,CAAC,GAAG;IAEzB,MAAM,uBAAS,6LAAC,yHAAA,CAAA,kBAAe;QAAC,MAAK;kBAAY;;;;;;IAEjD,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QACjB,MAAK;QACL,eAAe;QACf,QAAQ;QACR,QAAQ;QACR,cAAc;kBAEb,CAAC,aAAa,qBACb,6LAAC,yHAAA,CAAA,UAAO;YAAC,OAAM;sBACb,cAAA,6LAAC,mIAAA,CAAA,gBAAa;gBAAC,SAAS,KAAK,OAAO;;;;;;;;;;iCAGtC,6LAAC,qIAAA,CAAA,kBAAe;;;;;;;;;;AAIxB;KA7BgB;uCA+BD","debugId":null}},
    {"offset": {"line": 3419, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3425, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/tool-section.tsx"],"sourcesContent":["'use client'\n\nimport { ToolInvocation } from 'ai'\nimport { SearchSection } from './search-section'\nimport { VideoSearchSection } from './video-search-section'\nimport RetrieveSection from './retrieve-section'\n\ninterface ToolSectionProps {\n  tool: ToolInvocation\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function ToolSection({ tool, isOpen, onOpenChange }: ToolSectionProps) {\n  switch (tool.toolName) {\n    case 'search':\n      return (\n        <SearchSection\n          tool={tool}\n          isOpen={isOpen}\n          onOpenChange={onOpenChange}\n        />\n      )\n    case 'video_search':\n      return (\n        <VideoSearchSection\n          tool={tool}\n          isOpen={isOpen}\n          onOpenChange={onOpenChange}\n        />\n      )\n    case 'retrieve':\n      return (\n        <RetrieveSection\n          tool={tool}\n          isOpen={isOpen}\n          onOpenChange={onOpenChange}\n        />\n      )\n    default:\n      return null\n  }\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAaO,SAAS,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,YAAY,EAAoB;IAC1E,OAAQ,KAAK,QAAQ;QACnB,KAAK;YACH,qBACE,6LAAC,mIAAA,CAAA,gBAAa;gBACZ,MAAM;gBACN,QAAQ;gBACR,cAAc;;;;;;QAGpB,KAAK;YACH,qBACE,6LAAC,4IAAA,CAAA,qBAAkB;gBACjB,MAAM;gBACN,QAAQ;gBACR,cAAc;;;;;;QAGpB,KAAK;YACH,qBACE,6LAAC,qIAAA,CAAA,UAAe;gBACd,MAAM;gBACN,QAAQ;gBACR,cAAc;;;;;;QAGpB;YACE,OAAO;IACX;AACF;KA7BgB","debugId":null}},
    {"offset": {"line": 3479, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3485, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/user-message.tsx"],"sourcesContent":["import React from 'react'\nimport { CollapsibleMessage } from './collapsible-message'\n\ntype UserMessageProps = {\n  message: string\n}\n\nexport const UserMessage: React.FC<UserMessageProps> = ({ message }) => {\n  return (\n    <CollapsibleMessage role=\"user\">\n      <div className=\"flex-1 break-words w-full\">{message}</div>\n    </CollapsibleMessage>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;;;AAMO,MAAM,cAA0C,CAAC,EAAE,OAAO,EAAE;IACjE,qBACE,6LAAC,wIAAA,CAAA,qBAAkB;QAAC,MAAK;kBACvB,cAAA,6LAAC;YAAI,WAAU;sBAA6B;;;;;;;;;;;AAGlD;KANa","debugId":null}},
    {"offset": {"line": 3515, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3521, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/render-message.tsx"],"sourcesContent":["import { JSONValue, Message, ToolInvocation } from 'ai'\nimport { useMemo } from 'react'\nimport { AnswerSection } from './answer-section'\nimport { ReasoningSection } from './reasoning-section'\nimport RelatedQuestions from './related-questions'\nimport { ToolSection } from './tool-section'\nimport { UserMessage } from './user-message'\n\ninterface RenderMessageProps {\n  message: Message\n  messageId: string\n  getIsOpen: (id: string) => boolean\n  onOpenChange: (id: string, open: boolean) => void\n  onQuerySelect: (query: string) => void\n  chatId?: string\n}\n\nexport function RenderMessage({\n  message,\n  messageId,\n  getIsOpen,\n  onOpenChange,\n  onQuerySelect,\n  chatId\n}: RenderMessageProps) {\n  const relatedQuestions = useMemo(\n    () =>\n      message.annotations?.filter(\n        annotation => (annotation as any)?.type === 'related-questions'\n      ),\n    [message.annotations]\n  )\n\n  // Render for manual tool call\n  const toolData = useMemo(() => {\n    const toolAnnotations =\n      (message.annotations?.filter(\n        annotation =>\n          (annotation as unknown as { type: string }).type === 'tool_call'\n      ) as unknown as Array<{\n        data: {\n          args: string\n          toolCallId: string\n          toolName: string\n          result?: string\n          state: 'call' | 'result'\n        }\n      }>) || []\n\n    const toolDataMap = toolAnnotations.reduce((acc, annotation) => {\n      const existing = acc.get(annotation.data.toolCallId)\n      if (!existing || annotation.data.state === 'result') {\n        acc.set(annotation.data.toolCallId, {\n          ...annotation.data,\n          args: annotation.data.args ? JSON.parse(annotation.data.args) : {},\n          result:\n            annotation.data.result && annotation.data.result !== 'undefined'\n              ? JSON.parse(annotation.data.result)\n              : undefined\n        } as ToolInvocation)\n      }\n      return acc\n    }, new Map<string, ToolInvocation>())\n\n    return Array.from(toolDataMap.values())\n  }, [message.annotations])\n\n  // Extract the unified reasoning annotation directly.\n  const reasoningAnnotation = useMemo(() => {\n    const annotations = message.annotations as any[] | undefined\n    if (!annotations) return null\n    return (\n      annotations.find(a => a.type === 'reasoning' && a.data !== undefined) ||\n      null\n    )\n  }, [message.annotations])\n\n  // Extract the reasoning time and reasoning content from the annotation.\n  // If annotation.data is an object, use its fields. Otherwise, default to a time of 0.\n  const reasoningTime = useMemo(() => {\n    if (!reasoningAnnotation) return 0\n    if (\n      typeof reasoningAnnotation.data === 'object' &&\n      reasoningAnnotation.data !== null\n    ) {\n      return reasoningAnnotation.data.time ?? 0\n    }\n    return 0\n  }, [reasoningAnnotation])\n\n  if (message.role === 'user') {\n    return <UserMessage message={message.content} />\n  }\n\n  // New way: Use parts instead of toolInvocations\n  return (\n    <>\n      {toolData.map(tool => (\n        <ToolSection\n          key={tool.toolCallId}\n          tool={tool}\n          isOpen={getIsOpen(tool.toolCallId)}\n          onOpenChange={open => onOpenChange(tool.toolCallId, open)}\n        />\n      ))}\n      {message.parts?.map((part, index) => {\n        switch (part.type) {\n          case 'tool-invocation':\n            return (\n              <ToolSection\n                key={`${messageId}-tool-${index}`}\n                tool={part.toolInvocation}\n                isOpen={getIsOpen(part.toolInvocation.toolCallId)}\n                onOpenChange={open =>\n                  onOpenChange(part.toolInvocation.toolCallId, open)\n                }\n              />\n            )\n          case 'text':\n            return (\n              <AnswerSection\n                key={`${messageId}-text-${index}`}\n                content={part.text}\n                isOpen={getIsOpen(messageId)}\n                onOpenChange={open => onOpenChange(messageId, open)}\n                chatId={chatId}\n              />\n            )\n          case 'reasoning':\n            return (\n              <ReasoningSection\n                key={`${messageId}-reasoning-${index}`}\n                content={{\n                  reasoning: part.reasoning,\n                  time: reasoningTime\n                }}\n                isOpen={getIsOpen(messageId)}\n                onOpenChange={open => onOpenChange(messageId, open)}\n              />\n            )\n          // Add other part types as needed\n          default:\n            return null\n        }\n      })}\n      {relatedQuestions && relatedQuestions.length > 0 && (\n        <RelatedQuestions\n          annotations={relatedQuestions as JSONValue[]}\n          onQuerySelect={onQuerySelect}\n          isOpen={getIsOpen(`${messageId}-related`)}\n          onOpenChange={open => onOpenChange(`${messageId}-related`, open)}\n        />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3679, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3685, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/chat-messages.tsx"],"sourcesContent":["import { JSONValue, Message } from 'ai'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { RenderMessage } from './render-message'\nimport { ToolSection } from './tool-section'\nimport { Spinner } from './ui/spinner'\n\ninterface ChatMessagesProps {\n  messages: Message[]\n  data: JSONValue[] | undefined\n  onQuerySelect: (query: string) => void\n  isLoading: boolean\n  chatId?: string\n}\n\nexport function ChatMessages({\n  messages,\n  data,\n  onQuerySelect,\n  isLoading,\n  chatId\n}: ChatMessagesProps) {\n  const [openStates, setOpenStates] = useState<Record<string, boolean>>({})\n  const manualToolCallId = 'manual-tool-call'\n\n  // Add ref for the messages container\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  // Scroll to bottom function\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'instant' })\n  }\n\n  // Scroll to bottom on mount and when messages change\n  useEffect(() => {\n    scrollToBottom()\n  }, [])\n\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1]\n    if (lastMessage?.role === 'user') {\n      setOpenStates({ [manualToolCallId]: true })\n    }\n  }, [messages])\n\n  // get last tool data for manual tool call\n  const lastToolData = useMemo(() => {\n    if (!data || !Array.isArray(data) || data.length === 0) return null\n\n    const lastItem = data[data.length - 1] as {\n      type: 'tool_call'\n      data: {\n        toolCallId: string\n        state: 'call' | 'result'\n        toolName: string\n        args: string\n      }\n    }\n\n    if (lastItem.type !== 'tool_call') return null\n\n    const toolData = lastItem.data\n    return {\n      state: 'call' as const,\n      toolCallId: toolData.toolCallId,\n      toolName: toolData.toolName,\n      args: toolData.args ? JSON.parse(toolData.args) : undefined\n    }\n  }, [data])\n\n  if (!messages.length) return null\n\n  const lastUserIndex =\n    messages.length -\n    1 -\n    [...messages].reverse().findIndex(msg => msg.role === 'user')\n\n  const showLoading = isLoading && messages[messages.length - 1].role === 'user'\n\n  const getIsOpen = (id: string) => {\n    if (id.includes('call')) {\n      return openStates[id] ?? true\n    }\n    const baseId = id.endsWith('-related') ? id.slice(0, -8) : id\n    const index = messages.findIndex(msg => msg.id === baseId)\n    return openStates[id] ?? index >= lastUserIndex\n  }\n\n  const handleOpenChange = (id: string, open: boolean) => {\n    setOpenStates(prev => ({\n      ...prev,\n      [id]: open\n    }))\n  }\n\n  return (\n    <div className=\"relative mx-auto px-4 w-full\">\n      {messages.map(message => (\n        <div key={message.id} className=\"mb-4 flex flex-col gap-4\">\n          <RenderMessage\n            message={message}\n            messageId={message.id}\n            getIsOpen={getIsOpen}\n            onOpenChange={handleOpenChange}\n            onQuerySelect={onQuerySelect}\n            chatId={chatId}\n          />\n        </div>\n      ))}\n      {showLoading &&\n        (lastToolData ? (\n          <ToolSection\n            key={manualToolCallId}\n            tool={lastToolData}\n            isOpen={getIsOpen(manualToolCallId)}\n            onOpenChange={open => handleOpenChange(manualToolCallId, open)}\n          />\n        ) : (\n          <Spinner />\n        ))}\n      <div ref={messagesEndRef} /> {/* Add empty div as scroll anchor */}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;;;;;AAUO,SAAS,aAAa,EAC3B,QAAQ,EACR,IAAI,EACJ,aAAa,EACb,SAAS,EACT,MAAM,EACY;;IAClB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA2B,CAAC;IACvE,MAAM,mBAAmB;IAEzB,qCAAqC;IACrC,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE9C,4BAA4B;IAC5B,MAAM,iBAAiB;QACrB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAU;IAC/D;IAEA,qDAAqD;IACrD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR;QACF;iCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,cAAc,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE;YACjD,IAAI,aAAa,SAAS,QAAQ;gBAChC,cAAc;oBAAE,CAAC,iBAAiB,EAAE;gBAAK;YAC3C;QACF;iCAAG;QAAC;KAAS;IAEb,0CAA0C;IAC1C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;8CAAE;YAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAO,CAAC,SAAS,KAAK,MAAM,KAAK,GAAG,OAAO;YAE/D,MAAM,WAAW,IAAI,CAAC,KAAK,MAAM,GAAG,EAAE;YAUtC,IAAI,SAAS,IAAI,KAAK,aAAa,OAAO;YAE1C,MAAM,WAAW,SAAS,IAAI;YAC9B,OAAO;gBACL,OAAO;gBACP,YAAY,SAAS,UAAU;gBAC/B,UAAU,SAAS,QAAQ;gBAC3B,MAAM,SAAS,IAAI,GAAG,KAAK,KAAK,CAAC,SAAS,IAAI,IAAI;YACpD;QACF;6CAAG;QAAC;KAAK;IAET,IAAI,CAAC,SAAS,MAAM,EAAE,OAAO;IAE7B,MAAM,gBACJ,SAAS,MAAM,GACf,IACA;WAAI;KAAS,CAAC,OAAO,GAAG,SAAS,CAAC,CAAA,MAAO,IAAI,IAAI,KAAK;IAExD,MAAM,cAAc,aAAa,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,IAAI,KAAK;IAExE,MAAM,YAAY,CAAC;QACjB,IAAI,GAAG,QAAQ,CAAC,SAAS;YACvB,OAAO,UAAU,CAAC,GAAG,IAAI;QAC3B;QACA,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK;QAC3D,MAAM,QAAQ,SAAS,SAAS,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;QACnD,OAAO,UAAU,CAAC,GAAG,IAAI,SAAS;IACpC;IAEA,MAAM,mBAAmB,CAAC,IAAY;QACpC,cAAc,CAAA,OAAQ,CAAC;gBACrB,GAAG,IAAI;gBACP,CAAC,GAAG,EAAE;YACR,CAAC;IACH;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,SAAS,GAAG,CAAC,CAAA,wBACZ,6LAAC;oBAAqB,WAAU;8BAC9B,cAAA,6LAAC,mIAAA,CAAA,gBAAa;wBACZ,SAAS;wBACT,WAAW,QAAQ,EAAE;wBACrB,WAAW;wBACX,cAAc;wBACd,eAAe;wBACf,QAAQ;;;;;;mBAPF,QAAQ,EAAE;;;;;YAWrB,eACC,CAAC,6BACC,6LAAC,iIAAA,CAAA,cAAW;gBAEV,MAAM;gBACN,QAAQ,UAAU;gBAClB,cAAc,CAAA,OAAQ,iBAAiB,kBAAkB;eAHpD;;;;qCAMP,6LAAC,+HAAA,CAAA,UAAO;;;;oBACT;0BACH,6LAAC;gBAAI,KAAK;;;;;;YAAkB;;;;;;;AAGlC;GA5GgB;KAAA","debugId":null}},
    {"offset": {"line": 3822, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3828, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/empty-screen.tsx"],"sourcesContent":["import { Button } from '@/components/ui/button'\nimport { ArrowRight } from 'lucide-react'\n\nconst exampleMessages = [\n  {\n    heading: 'What is DeepSeek R1?',\n    message: 'What is DeepSeek R1?'\n  },\n  {\n    heading: 'Why is Nvidia growing rapidly?',\n    message: 'Why is Nvidia growing rapidly?'\n  },\n  {\n    heading: 'Tesla vs Rivian',\n    message: 'Tesla vs Rivian'\n  },\n  {\n    heading: 'Summary: https://arxiv.org/pdf/2501.05707',\n    message: 'Summary: https://arxiv.org/pdf/2501.05707'\n  }\n]\nexport function EmptyScreen({\n  submitMessage,\n  className\n}: {\n  submitMessage: (message: string) => void\n  className?: string\n}) {\n  return (\n    <div className={`mx-auto w-full transition-all ${className}`}>\n      <div className=\"bg-background p-2\">\n        <div className=\"mt-2 flex flex-col items-start space-y-2 mb-4\">\n          {exampleMessages.map((message, index) => (\n            <Button\n              key={index}\n              variant=\"link\"\n              className=\"h-auto p-0 text-base\"\n              name={message.message}\n              onClick={async () => {\n                submitMessage(message.message)\n              }}\n            >\n              <ArrowRight size={16} className=\"mr-2 text-muted-foreground\" />\n              {message.heading}\n            </Button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEA,MAAM,kBAAkB;IACtB;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;CACD;AACM,SAAS,YAAY,EAC1B,aAAa,EACb,SAAS,EAIV;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,8BAA8B,EAAE,WAAW;kBAC1D,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,SAAS,sBAC7B,6LAAC,8HAAA,CAAA,SAAM;wBAEL,SAAQ;wBACR,WAAU;wBACV,MAAM,QAAQ,OAAO;wBACrB,SAAS;4BACP,cAAc,QAAQ,OAAO;wBAC/B;;0CAEA,6LAAC,qNAAA,CAAA,aAAU;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAC/B,QAAQ,OAAO;;uBATX;;;;;;;;;;;;;;;;;;;;AAgBnB;KA7BgB","debugId":null}},
    {"offset": {"line": 3907, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3913, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/lib/utils/cookies.ts"],"sourcesContent":["export function setCookie(name: string, value: string, days = 30) {\n  const date = new Date()\n  date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000)\n  const expires = `expires=${date.toUTCString()}`\n  document.cookie = `${name}=${value};${expires};path=/`\n}\n\nexport function getCookie(name: string): string | null {\n  const cookies = document.cookie.split(';')\n  for (const cookie of cookies) {\n    const [cookieName, cookieValue] = cookie.trim().split('=')\n    if (cookieName === name) {\n      return cookieValue\n    }\n  }\n  return null\n}\n\nexport function deleteCookie(name: string) {\n  document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`\n}\n"],"names":[],"mappings":";;;;;AAAO,SAAS,UAAU,IAAY,EAAE,KAAa,EAAE,OAAO,EAAE;IAC9D,MAAM,OAAO,IAAI;IACjB,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK,OAAO,KAAK,KAAK,KAAK;IACpD,MAAM,UAAU,CAAC,QAAQ,EAAE,KAAK,WAAW,IAAI;IAC/C,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,QAAQ,OAAO,CAAC;AACxD;AAEO,SAAS,UAAU,IAAY;IACpC,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CAAC;IACtC,KAAK,MAAM,UAAU,QAAS;QAC5B,MAAM,CAAC,YAAY,YAAY,GAAG,OAAO,IAAI,GAAG,KAAK,CAAC;QACtD,IAAI,eAAe,MAAM;YACvB,OAAO;QACT;IACF;IACA,OAAO;AACT;AAEO,SAAS,aAAa,IAAY;IACvC,SAAS,MAAM,GAAG,GAAG,KAAK,8CAA8C,CAAC;AAC3E","debugId":null}},
    {"offset": {"line": 3940, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3946, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/lib/utils/registry.ts"],"sourcesContent":["import { anthropic } from '@ai-sdk/anthropic'\nimport { createAzure } from '@ai-sdk/azure'\nimport { deepseek } from '@ai-sdk/deepseek'\nimport { createFireworks, fireworks } from '@ai-sdk/fireworks'\nimport { google } from '@ai-sdk/google'\nimport { groq } from '@ai-sdk/groq'\nimport { createOpenAI, openai } from '@ai-sdk/openai'\nimport { xai } from '@ai-sdk/xai'\nimport {\n  experimental_createProviderRegistry as createProviderRegistry,\n  extractReasoningMiddleware,\n  wrapLanguageModel\n} from 'ai'\nimport { createOllama } from 'ollama-ai-provider'\n\nexport const registry = createProviderRegistry({\n  openai,\n  anthropic,\n  google,\n  groq,\n  ollama: createOllama({\n    baseURL: `${process.env.OLLAMA_BASE_URL}/api`\n  }),\n  azure: createAzure({\n    apiKey: process.env.AZURE_API_KEY,\n    resourceName: process.env.AZURE_RESOURCE_NAME\n  }),\n  deepseek,\n  fireworks: {\n    ...createFireworks({\n      apiKey: process.env.FIREWORKS_API_KEY\n    }),\n    languageModel: fireworks\n  },\n  'openai-compatible': createOpenAI({\n    apiKey: process.env.OPENAI_COMPATIBLE_API_KEY,\n    baseURL: process.env.OPENAI_COMPATIBLE_API_BASE_URL\n  }),\n  xai\n})\n\nexport function getModel(model: string) {\n  const [provider, ...modelNameParts] = model.split(':') ?? []\n  const modelName = modelNameParts.join(':')\n  if (model.includes('ollama')) {\n    const ollama = createOllama({\n      baseURL: `${process.env.OLLAMA_BASE_URL}/api`\n    })\n\n    // if model is deepseek-r1, add reasoning middleware\n    if (model.includes('deepseek-r1')) {\n      return wrapLanguageModel({\n        model: ollama(modelName),\n        middleware: extractReasoningMiddleware({\n          tagName: 'think'\n        })\n      })\n    }\n\n    // if ollama provider, set simulateStreaming to true\n    return ollama(modelName, {\n      simulateStreaming: true\n    })\n  }\n\n  // if model is groq and includes deepseek-r1, add reasoning middleware\n  if (model.includes('groq') && model.includes('deepseek-r1')) {\n    return wrapLanguageModel({\n      model: groq(modelName),\n      middleware: extractReasoningMiddleware({\n        tagName: 'think'\n      })\n    })\n  }\n\n  // if model is fireworks and includes deepseek-r1, add reasoning middleware\n  if (model.includes('fireworks') && model.includes('deepseek-r1')) {\n    return wrapLanguageModel({\n      model: fireworks(modelName),\n      middleware: extractReasoningMiddleware({\n        tagName: 'think'\n      })\n    })\n  }\n\n  return registry.languageModel(model)\n}\n\nexport function isProviderEnabled(providerId: string): boolean {\n  switch (providerId) {\n    case 'openai':\n      return !!process.env.OPENAI_API_KEY\n    case 'anthropic':\n      return !!process.env.ANTHROPIC_API_KEY\n    case 'google':\n      return !!process.env.GOOGLE_GENERATIVE_AI_API_KEY\n    case 'groq':\n      return !!process.env.GROQ_API_KEY\n    case 'ollama':\n      return !!process.env.OLLAMA_BASE_URL\n    case 'azure':\n      return !!process.env.AZURE_API_KEY && !!process.env.AZURE_RESOURCE_NAME\n    case 'deepseek':\n      return !!process.env.DEEPSEEK_API_KEY\n    case 'fireworks':\n      return !!process.env.FIREWORKS_API_KEY\n    case 'xai':\n      return !!process.env.XAI_API_KEY\n    case 'openai-compatible':\n      return (\n        !!process.env.OPENAI_COMPATIBLE_API_KEY &&\n        !!process.env.OPENAI_COMPATIBLE_API_BASE_URL\n      )\n    default:\n      return false\n  }\n}\n\nexport function getToolCallModel(model?: string) {\n  const [provider, ...modelNameParts] = model?.split(':') ?? []\n  const modelName = modelNameParts.join(':')\n  switch (provider) {\n    case 'deepseek':\n      return getModel('deepseek:deepseek-chat')\n    case 'fireworks':\n      return getModel(\n        'fireworks:accounts/fireworks/models/llama-v3p1-8b-instruct'\n      )\n    case 'groq':\n      return getModel('groq:llama-3.1-8b-instant')\n    case 'ollama':\n      const ollamaModel =\n        process.env.NEXT_PUBLIC_OLLAMA_TOOL_CALL_MODEL || modelName\n      return getModel(`ollama:${ollamaModel}`)\n    case 'google':\n      return getModel('google:gemini-2.0-flash')\n    default:\n      return getModel('openai:gpt-4o-mini')\n  }\n}\n\nexport function isToolCallSupported(model?: string) {\n  const [provider, ...modelNameParts] = model?.split(':') ?? []\n  const modelName = modelNameParts.join(':')\n\n  if (provider === 'ollama') {\n    return false\n  }\n\n  if (provider === 'google') {\n    return false\n  }\n\n  // Deepseek R1 is not supported\n  // Deepseek v3's tool call is unstable, so we include it in the list\n  return !modelName?.includes('deepseek')\n}\n\nexport function isReasoningModel(model: string): boolean {\n  if (typeof model !== 'string') {\n    return false\n  }\n  return (\n    model.includes('deepseek-r1') ||\n    model.includes('deepseek-reasoner') ||\n    model.includes('o3-mini')\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4108, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4114, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/command.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4289, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4295, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4337, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4343, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/model-selector.tsx"],"sourcesContent":["'use client'\n\nimport { Model } from '@/lib/types/models'\nimport { getCookie, setCookie } from '@/lib/utils/cookies'\nimport { isReasoningModel } from '@/lib/utils/registry'\nimport { Check, ChevronsUpDown, Lightbulb } from 'lucide-react'\nimport Image from 'next/image'\nimport { useEffect, useState } from 'react'\nimport { createModelId } from '../lib/utils'\nimport { Button } from './ui/button'\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList\n} from './ui/command'\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover'\n\nfunction groupModelsByProvider(models: Model[]) {\n  return models\n    .filter(model => model.enabled)\n    .reduce((groups, model) => {\n      const provider = model.provider\n      if (!groups[provider]) {\n        groups[provider] = []\n      }\n      groups[provider].push(model)\n      return groups\n    }, {} as Record<string, Model[]>)\n}\n\ninterface ModelSelectorProps {\n  models: Model[]\n}\n\nexport function ModelSelector({ models }: ModelSelectorProps) {\n  const [open, setOpen] = useState(false)\n  const [value, setValue] = useState('')\n\n  useEffect(() => {\n    const savedModel = getCookie('selectedModel')\n    if (savedModel) {\n      try {\n        const model = JSON.parse(savedModel) as Model\n        setValue(createModelId(model))\n      } catch (e) {\n        console.error('Failed to parse saved model:', e)\n      }\n    }\n  }, [])\n\n  const handleModelSelect = (id: string) => {\n    const newValue = id === value ? '' : id\n    setValue(newValue)\n    \n    const selectedModel = models.find(model => createModelId(model) === newValue)\n    if (selectedModel) {\n      setCookie('selectedModel', JSON.stringify(selectedModel))\n    } else {\n      setCookie('selectedModel', '')\n    }\n    \n    setOpen(false)\n  }\n\n  const selectedModel = models.find(model => createModelId(model) === value)\n  const groupedModels = groupModelsByProvider(models)\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className=\"text-sm rounded-full shadow-none focus:ring-0\"\n        >\n          {selectedModel ? (\n            <div className=\"flex items-center space-x-1\">\n              <Image\n                src={`/providers/logos/${selectedModel.providerId}.svg`}\n                alt={selectedModel.provider}\n                width={18}\n                height={18}\n                className=\"bg-white rounded-full border\"\n              />\n              <span className=\"text-xs font-medium\">{selectedModel.name}</span>\n              {isReasoningModel(selectedModel.id) && (\n                <Lightbulb size={12} className=\"text-accent-blue-foreground\" />\n              )}\n            </div>\n          ) : (\n            'Select model'\n          )}\n          <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-72 p-0\" align=\"start\">\n        <Command>\n          <CommandInput placeholder=\"Search models...\" />\n          <CommandList>\n            <CommandEmpty>No model found.</CommandEmpty>\n            {Object.entries(groupedModels).map(([provider, models]) => (\n              <CommandGroup key={provider} heading={provider}>\n                {models.map(model => {\n                  const modelId = createModelId(model)\n                  return (\n                    <CommandItem\n                      key={modelId}\n                      value={modelId}\n                      onSelect={handleModelSelect}\n                      className=\"flex justify-between\"\n                    >\n                      <div className=\"flex items-center space-x-2\">\n                        <Image\n                          src={`/providers/logos/${model.providerId}.svg`}\n                          alt={model.provider}\n                          width={18}\n                          height={18}\n                          className=\"bg-white rounded-full border\"\n                        />\n                        <span className=\"text-xs font-medium\">\n                          {model.name}\n                        </span>\n                      </div>\n                      <Check\n                        className={`h-4 w-4 ${\n                          value === modelId ? 'opacity-100' : 'opacity-0'\n                        }`}\n                      />\n                    </CommandItem>\n                  )\n                })}\n              </CommandGroup>\n            ))}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4584, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4590, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/ui/toggle.tsx"],"sourcesContent":["'use client'\n\nimport * as TogglePrimitive from '@radix-ui/react-toggle'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst toggleVariants = cva(\n  'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-transparent data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',\n        outline:\n          'border border-input hover:bg-accent hover:text-accent-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground'\n      },\n      size: {\n        default: 'h-10 px-3 min-w-10',\n        sm: 'h-9 px-2.5 min-w-9',\n        lg: 'h-11 px-5 min-w-11'\n      }\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default'\n    }\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,qXACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzC,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4644, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4650, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/search-mode-toggle.tsx"],"sourcesContent":["'use client'\n\nimport { cn } from '@/lib/utils'\nimport { getCookie, setCookie } from '@/lib/utils/cookies'\nimport { Globe } from 'lucide-react'\nimport { useEffect, useState } from 'react'\nimport { Toggle } from './ui/toggle'\n\nexport function SearchModeToggle() {\n  const [isSearchMode, setIsSearchMode] = useState(true)\n\n  useEffect(() => {\n    const savedMode = getCookie('search-mode')\n    if (savedMode !== null) {\n      setIsSearchMode(savedMode === 'true')\n    }\n  }, [])\n\n  const handleSearchModeChange = (pressed: boolean) => {\n    setIsSearchMode(pressed)\n    setCookie('search-mode', pressed.toString())\n  }\n\n  return (\n    <Toggle\n      aria-label=\"Toggle search mode\"\n      pressed={isSearchMode}\n      onPressedChange={handleSearchModeChange}\n      variant=\"outline\"\n      className={cn(\n        'gap-1 px-3 border border-input text-muted-foreground bg-background',\n        'data-[state=on]:bg-accent-blue',\n        'data-[state=on]:text-accent-blue-foreground',\n        'data-[state=on]:border-accent-blue-border',\n        'hover:bg-accent hover:text-accent-foreground rounded-full'\n      )}\n    >\n      <Globe className=\"size-4\" />\n      <span className=\"text-xs\">Search</span>\n    </Toggle>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQO,SAAS;;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,MAAM,YAAY,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD,EAAE;YAC5B,IAAI,cAAc,MAAM;gBACtB,gBAAgB,cAAc;YAChC;QACF;qCAAG,EAAE;IAEL,MAAM,yBAAyB,CAAC;QAC9B,gBAAgB;QAChB,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD,EAAE,eAAe,QAAQ,QAAQ;IAC3C;IAEA,qBACE,6LAAC,8HAAA,CAAA,SAAM;QACL,cAAW;QACX,SAAS;QACT,iBAAiB;QACjB,SAAQ;QACR,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sEACA,kCACA,+CACA,6CACA;;0BAGF,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;0BACjB,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;GAjCgB;KAAA","debugId":null}},
    {"offset": {"line": 4718, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4724, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/chat-panel.tsx"],"sourcesContent":["'use client'\n\nimport { Model } from '@/lib/types/models'\nimport { cn } from '@/lib/utils'\nimport { Message } from 'ai'\nimport { ArrowUp, MessageCirclePlus, Square } from 'lucide-react'\nimport { useRouter } from 'next/navigation'\nimport { useEffect, useRef, useState } from 'react'\nimport Textarea from 'react-textarea-autosize'\nimport { EmptyScreen } from './empty-screen'\nimport { ModelSelector } from './model-selector'\nimport { SearchModeToggle } from './search-mode-toggle'\nimport { Button } from './ui/button'\nimport { IconLogo } from './ui/icons'\n\ninterface ChatPanelProps {\n  input: string\n  handleInputChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => void\n  isLoading: boolean\n  messages: Message[]\n  setMessages: (messages: Message[]) => void\n  query?: string\n  stop: () => void\n  append: (message: any) => void\n  models?: Model[]\n}\n\nexport function ChatPanel({\n  input,\n  handleInputChange,\n  handleSubmit,\n  isLoading,\n  messages,\n  setMessages,\n  query,\n  stop,\n  append,\n  models\n}: ChatPanelProps) {\n  const [showEmptyScreen, setShowEmptyScreen] = useState(false)\n  const router = useRouter()\n  const inputRef = useRef<HTMLTextAreaElement>(null)\n  const isFirstRender = useRef(true)\n  const [isComposing, setIsComposing] = useState(false) // Composition state\n  const [enterDisabled, setEnterDisabled] = useState(false) // Disable Enter after composition ends\n\n  const handleCompositionStart = () => setIsComposing(true)\n\n  const handleCompositionEnd = () => {\n    setIsComposing(false)\n    setEnterDisabled(true)\n    setTimeout(() => {\n      setEnterDisabled(false)\n    }, 300)\n  }\n\n  const handleNewChat = () => {\n    setMessages([])\n    router.push('/')\n  }\n\n  // if query is not empty, submit the query\n  useEffect(() => {\n    if (isFirstRender.current && query && query.trim().length > 0) {\n      append({\n        role: 'user',\n        content: query\n      })\n      isFirstRender.current = false\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query])\n\n  return (\n    <div\n      className={cn(\n        'mx-auto w-full',\n        messages.length > 0\n          ? 'fixed bottom-0 left-0 right-0 bg-background'\n          : 'fixed bottom-8 left-0 right-0 top-6 flex flex-col items-center justify-center'\n      )}\n    >\n      {messages.length === 0 && (\n        <div className=\"mb-8\">\n          <IconLogo className=\"size-12 text-muted-foreground\" />\n        </div>\n      )}\n      <form\n        onSubmit={handleSubmit}\n        className={cn(\n          'max-w-3xl w-full mx-auto',\n          messages.length > 0 ? 'px-2 py-4' : 'px-6'\n        )}\n      >\n        <div className=\"relative flex flex-col w-full gap-2 bg-muted rounded-3xl border border-input\">\n          <Textarea\n            ref={inputRef}\n            name=\"input\"\n            rows={2}\n            maxRows={5}\n            tabIndex={0}\n            onCompositionStart={handleCompositionStart}\n            onCompositionEnd={handleCompositionEnd}\n            placeholder=\"Ask a question...\"\n            spellCheck={false}\n            value={input}\n            className=\"resize-none w-full min-h-12 bg-transparent border-0 px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50\"\n            onChange={e => {\n              handleInputChange(e)\n              setShowEmptyScreen(e.target.value.length === 0)\n            }}\n            onKeyDown={e => {\n              if (\n                e.key === 'Enter' &&\n                !e.shiftKey &&\n                !isComposing &&\n                !enterDisabled\n              ) {\n                if (input.trim().length === 0) {\n                  e.preventDefault()\n                  return\n                }\n                e.preventDefault()\n                const textarea = e.target as HTMLTextAreaElement\n                textarea.form?.requestSubmit()\n              }\n            }}\n            onFocus={() => setShowEmptyScreen(true)}\n            onBlur={() => setShowEmptyScreen(false)}\n          />\n\n          {/* Bottom menu area */}\n          <div className=\"flex items-center justify-between p-3\">\n            <div className=\"flex items-center gap-2\">\n              <ModelSelector models={models || []} />\n              <SearchModeToggle />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {messages.length > 0 && (\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  onClick={handleNewChat}\n                  className=\"shrink-0 rounded-full group\"\n                  type=\"button\"\n                  disabled={isLoading}\n                >\n                  <MessageCirclePlus className=\"size-4 group-hover:rotate-12 transition-all\" />\n                </Button>\n              )}\n              <Button\n                type={isLoading ? 'button' : 'submit'}\n                size={'icon'}\n                variant={'outline'}\n                className={cn(isLoading && 'animate-pulse', 'rounded-full')}\n                disabled={input.length === 0 && !isLoading}\n                onClick={isLoading ? stop : undefined}\n              >\n                {isLoading ? <Square size={20} /> : <ArrowUp size={20} />}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {messages.length === 0 && (\n          <EmptyScreen\n            submitMessage={message => {\n              handleInputChange({\n                target: { value: message }\n              } as React.ChangeEvent<HTMLTextAreaElement>)\n            }}\n            className={cn(showEmptyScreen ? 'visible' : 'invisible')}\n          />\n        )}\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4975, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4981, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/searchBasedRAG/components/chat.tsx"],"sourcesContent":["'use client'\n\nimport { CHAT_ID } from '@/lib/constants'\nimport { Model } from '@/lib/types/models'\nimport { Message, useChat } from 'ai/react'\nimport { useEffect } from 'react'\nimport { toast } from 'sonner'\nimport { ChatMessages } from './chat-messages'\nimport { ChatPanel } from './chat-panel'\n\nexport function Chat({\n  id,\n  savedMessages = [],\n  query,\n  models\n}: {\n  id: string\n  savedMessages?: Message[]\n  query?: string\n  models?: Model[]\n}) {\n  const {\n    messages,\n    input,\n    handleInputChange,\n    handleSubmit,\n    isLoading,\n    setMessages,\n    stop,\n    append,\n    data,\n    setData\n  } = useChat({\n    initialMessages: savedMessages,\n    id: CHAT_ID,\n    body: {\n      id\n    },\n    onFinish: () => {\n      window.history.replaceState({}, '', `/search/${id}`)\n    },\n    onError: error => {\n      toast.error(`Error in chat: ${error.message}`)\n    },\n    sendExtraMessageFields: false // Disable extra message fields\n  })\n\n  useEffect(() => {\n    setMessages(savedMessages)\n  }, [id])\n\n  const onQuerySelect = (query: string) => {\n    append({\n      role: 'user',\n      content: query\n    })\n  }\n\n  const onSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setData(undefined) // reset data to clear tool call\n    handleSubmit(e)\n  }\n\n  return (\n    <div className=\"flex flex-col w-full max-w-3xl pt-14 pb-60 mx-auto stretch\">\n      <ChatMessages\n        messages={messages}\n        data={data}\n        onQuerySelect={onQuerySelect}\n        isLoading={isLoading}\n        chatId={id}\n      />\n      <ChatPanel\n        input={input}\n        handleInputChange={handleInputChange}\n        handleSubmit={onSubmit}\n        isLoading={isLoading}\n        messages={messages}\n        setMessages={setMessages}\n        stop={stop}\n        query={query}\n        append={append}\n        models={models}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAUO,SAAS,KAAK,EACnB,EAAE,EACF,gBAAgB,EAAE,EAClB,KAAK,EACL,MAAM,EAMP;;IACC,MAAM,EACJ,QAAQ,EACR,KAAK,EACL,iBAAiB,EACjB,YAAY,EACZ,SAAS,EACT,WAAW,EACX,IAAI,EACJ,MAAM,EACN,IAAI,EACJ,OAAO,EACR,GAAG,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EAAE;QACV,iBAAiB;QACjB,IAAI,4HAAA,CAAA,UAAO;QACX,MAAM;YACJ;QACF;QACA,QAAQ;4BAAE;gBACR,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,IAAI;YACrD;;QACA,OAAO;4BAAE,CAAA;gBACP,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,MAAM,OAAO,EAAE;YAC/C;;QACA,wBAAwB,MAAM,+BAA+B;IAC/D;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,YAAY;QACd;yBAAG;QAAC;KAAG;IAEP,MAAM,gBAAgB,CAAC;QACrB,OAAO;YACL,MAAM;YACN,SAAS;QACX;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,EAAE,cAAc;QAChB,QAAQ,WAAW,gCAAgC;;QACnD,aAAa;IACf;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,kIAAA,CAAA,eAAY;gBACX,UAAU;gBACV,MAAM;gBACN,eAAe;gBACf,WAAW;gBACX,QAAQ;;;;;;0BAEV,6LAAC,+HAAA,CAAA,YAAS;gBACR,OAAO;gBACP,mBAAmB;gBACnB,cAAc;gBACd,WAAW;gBACX,UAAU;gBACV,aAAa;gBACb,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,QAAQ;;;;;;;;;;;;AAIhB;GA7EgB;;QAsBV,gJAAA,CAAA,UAAO;;;KAtBG","debugId":null}},
    {"offset": {"line": 5087, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}