module.exports = {

"[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/lib/actions/chat.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
;
;
;
;
;
;
}}),
"[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/lib/actions/chat.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/actions/chat.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/lib/actions/chat.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/lib/actions/chat.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "407436dbee0eac9c07425c0e5c664090d819e110b0": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getChats"]),
    "407ca78c913fc4e9a4f5581ca810f4a422a4182689": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSharedChat"]),
    "40aa79a925157ba7e49c6f04f8f726a56bb40cbe98": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["clearChats"]),
    "60312532a1c56a65646f003f72b560b30dfd0d9f82": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["shareChat"]),
    "603666b7d10ff9c12a65a76705854c0cda11397f77": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getChat"]),
    "60b67376a13fda0f582e9a1ab02e67e578d29cf1da": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["saveChat"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/actions/chat.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/lib/actions/chat.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/lib/actions/chat.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "407436dbee0eac9c07425c0e5c664090d819e110b0": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["407436dbee0eac9c07425c0e5c664090d819e110b0"]),
    "407ca78c913fc4e9a4f5581ca810f4a422a4182689": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["407ca78c913fc4e9a4f5581ca810f4a422a4182689"]),
    "40aa79a925157ba7e49c6f04f8f726a56bb40cbe98": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["40aa79a925157ba7e49c6f04f8f726a56bb40cbe98"]),
    "60312532a1c56a65646f003f72b560b30dfd0d9f82": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["60312532a1c56a65646f003f72b560b30dfd0d9f82"]),
    "603666b7d10ff9c12a65a76705854c0cda11397f77": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["603666b7d10ff9c12a65a76705854c0cda11397f77"]),
    "60b67376a13fda0f582e9a1ab02e67e578d29cf1da": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["60b67376a13fda0f582e9a1ab02e67e578d29cf1da"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/lib/actions/chat.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <module evaluation>');
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$search$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/search/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/lib/actions/chat.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <exports>');
}}),
"[project]/app/favicon.ico.mjs { IMAGE => \"[project]/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/app/favicon.ico.mjs { IMAGE => \"[project]/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/app/opengraph-image.png.mjs { IMAGE => \"[project]/app/opengraph-image.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/app/opengraph-image.png.mjs { IMAGE => \"[project]/app/opengraph-image.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/app/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/app/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/components/chat.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Chat": (()=>Chat)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const Chat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call Chat() from the server but Chat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/chat.tsx <module evaluation>", "Chat");
}}),
"[project]/components/chat.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Chat": (()=>Chat)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const Chat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call Chat() from the server but Chat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/chat.tsx", "Chat");
}}),
"[project]/components/chat.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$chat$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/components/chat.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$chat$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/components/chat.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$chat$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/lib/config/default-models.json (json)": ((__turbopack_context__) => {

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.v(JSON.parse("{\"models\":[{\"id\":\"o3-mini\",\"name\":\"o3 mini\",\"provider\":\"OpenAI\",\"providerId\":\"openai\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"gpt-4o\",\"name\":\"GPT-4o\",\"provider\":\"OpenAI\",\"providerId\":\"openai\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"gpt-4o-mini\",\"name\":\"GPT-4o mini\",\"provider\":\"OpenAI\",\"providerId\":\"openai\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"claude-3-7-sonnet-20250219\",\"name\":\"Claude 3.7 Sonnet\",\"provider\":\"Anthropic\",\"providerId\":\"anthropic\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"claude-3-5-sonnet-latest\",\"name\":\"Claude 3.5 Sonnet\",\"provider\":\"Anthropic\",\"providerId\":\"anthropic\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"claude-3-5-haiku-20241022\",\"name\":\"Claude 3.5 Haiku\",\"provider\":\"Anthropic\",\"providerId\":\"anthropic\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"<AZURE_DEPLOYMENT_NAME>\",\"name\":\"<AZURE_DEPLOYMENT_NAME>\",\"provider\":\"Azure\",\"providerId\":\"azure\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"gemini-2.0-flash\",\"name\":\"Gemini 2.0 Flash\",\"provider\":\"Google Generative AI\",\"providerId\":\"google\",\"enabled\":true,\"toolCallType\":\"manual\"},{\"id\":\"gemini-2.0-pro-exp-02-05\",\"name\":\"Gemini 2.0 Pro (Exp)\",\"provider\":\"Google Generative AI\",\"providerId\":\"google\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"gemini-2.0-flash\"},{\"id\":\"gemini-2.0-flash-thinking-exp-01-21\",\"name\":\"Gemini 2.0 Flash Thinking (Exp)\",\"provider\":\"Google Generative AI\",\"providerId\":\"google\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"gemini-2.0-flash\"},{\"id\":\"accounts/fireworks/models/deepseek-r1\",\"name\":\"DeepSeek R1\",\"provider\":\"Fireworks\",\"providerId\":\"fireworks\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"accounts/fireworks/models/llama-v3p1-8b-instruct\"},{\"id\":\"deepseek-reasoner\",\"name\":\"DeepSeek R1\",\"provider\":\"DeepSeek\",\"providerId\":\"deepseek\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"deepseek-chat\"},{\"id\":\"deepseek-chat\",\"name\":\"DeepSeek V3\",\"provider\":\"DeepSeek\",\"providerId\":\"deepseek\",\"enabled\":true,\"toolCallType\":\"manual\"},{\"id\":\"deepseek-r1-distill-llama-70b\",\"name\":\"DeepSeek R1 Distill Llama 70B\",\"provider\":\"Groq\",\"providerId\":\"groq\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"llama-3.1-8b-instant\"},{\"id\":\"deepseek-r1\",\"name\":\"DeepSeek R1\",\"provider\":\"Ollama\",\"providerId\":\"ollama\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"phi4\"},{\"id\":\"<OLLAMA_MODEL_ID>\",\"name\":\"<OLLAMA_MODEL_NAME>\",\"provider\":\"Ollama\",\"providerId\":\"ollama\",\"enabled\":true,\"toolCallType\":\"manual\",\"toolCallModel\":\"<OLLAMA_MODEL_ID>\"},{\"id\":\"grok-2-1212\",\"name\":\"Grok 2\",\"provider\":\"xAI\",\"providerId\":\"xai\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"grok-2-vision-1212\",\"name\":\"Grok 2 Vision\",\"provider\":\"xAI\",\"providerId\":\"xai\",\"enabled\":true,\"toolCallType\":\"native\"},{\"id\":\"<OPENAI_COMPATIBLE_MODEL>\",\"name\":\"<OPENAI_COMPATIBLE_MODEL>\",\"provider\":\"OpenAI Compatible\",\"providerId\":\"openai-compatible\",\"enabled\":true,\"toolCallType\":\"native\"}]}"));}}),
"[project]/lib/config/models.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "getModels": (()=>getModels),
    "validateModel": (()=>validateModel)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/headers.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$default$2d$models$2e$json__$28$json$29$__ = __turbopack_context__.i("[project]/lib/config/default-models.json (json)");
;
;
function validateModel(model) {
    return typeof model.id === 'string' && typeof model.name === 'string' && typeof model.provider === 'string' && typeof model.providerId === 'string' && typeof model.enabled === 'boolean' && (model.toolCallType === 'native' || model.toolCallType === 'manual') && (model.toolCallModel === undefined || typeof model.toolCallModel === 'string');
}
async function getModels() {
    try {
        // Check for BASE_URL environment variable first
        const baseUrlEnv = process.env.BASE_URL;
        let baseUrlObj;
        if (baseUrlEnv) {
            try {
                baseUrlObj = new URL(baseUrlEnv);
                console.log('Using BASE_URL environment variable:', baseUrlEnv);
            } catch (error) {
                console.warn('Invalid BASE_URL environment variable, falling back to headers');
                baseUrlObj = await getBaseUrlFromHeaders();
            }
        } else {
            // If BASE_URL is not set, use headers
            baseUrlObj = await getBaseUrlFromHeaders();
        }
        // Construct the models.json URL
        const modelUrl = new URL('/config/models.json', baseUrlObj);
        console.log('Attempting to fetch models from:', modelUrl.toString());
        try {
            const response = await fetch(modelUrl, {
                cache: 'no-store',
                headers: {
                    Accept: 'application/json'
                }
            });
            if (!response.ok) {
                console.warn(`HTTP error when fetching models: ${response.status} ${response.statusText}`);
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            // Check if the response starts with HTML doctype
            if (text.trim().toLowerCase().startsWith('<!doctype')) {
                console.warn('Received HTML instead of JSON when fetching models');
                throw new Error('Received HTML instead of JSON');
            }
            const config = JSON.parse(text);
            if (Array.isArray(config.models) && config.models.every(validateModel)) {
                console.log('Successfully loaded models from URL');
                return config.models;
            }
        } catch (error) {
            // Fallback to default models if fetch fails
            console.warn('Fetch failed, falling back to default models:', error.message || 'Unknown error');
            if (Array.isArray(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$default$2d$models$2e$json__$28$json$29$__["default"].models) && __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$default$2d$models$2e$json__$28$json$29$__["default"].models.every(validateModel)) {
                console.log('Successfully loaded default models');
                return __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$default$2d$models$2e$json__$28$json$29$__["default"].models;
            }
        }
    } catch (error) {
        console.warn('Failed to load models:', error);
    }
    // Last resort: return empty array
    console.warn('All attempts to load models failed, returning empty array');
    return [];
}
// Helper function to get base URL from headers
async function getBaseUrlFromHeaders() {
    const headersList = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["headers"])();
    const baseUrl = headersList.get('x-base-url');
    const url = headersList.get('x-url');
    const host = headersList.get('x-host');
    const protocol = headersList.get('x-protocol') || 'http:';
    try {
        // Try to use the pre-constructed base URL if available
        if (baseUrl) {
            return new URL(baseUrl);
        } else if (url) {
            return new URL(url);
        } else if (host) {
            const constructedUrl = `${protocol}${protocol.endsWith(':') ? '//' : '://'}${host}`;
            return new URL(constructedUrl);
        } else {
            return new URL('http://localhost:3000');
        }
    } catch (urlError) {
        // Fallback to default URL if any error occurs during URL construction
        return new URL('http://localhost:3000');
    }
}
}}),
"[project]/app/search/[id]/page.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>SearchPage),
    "generateMetadata": (()=>generateMetadata),
    "maxDuration": (()=>maxDuration)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$chat$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/chat.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/actions/chat.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$models$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/config/models.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$utils$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/utils/index.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$api$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/next/dist/api/navigation.react-server.js [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/components/navigation.react-server.js [app-rsc] (ecmascript)");
;
;
;
;
;
;
const maxDuration = 60;
async function generateMetadata(props) {
    const { id } = await props.params;
    const chat = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getChat"])(id, 'anonymous');
    return {
        title: chat?.title.toString().slice(0, 50) || 'Search'
    };
}
async function SearchPage(props) {
    const userId = 'anonymous';
    const { id } = await props.params;
    const chat = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$actions$2f$chat$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getChat"])(id, userId);
    // convertToUIMessages for useChat hook
    const messages = (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$utils$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["convertToUIMessages"])(chat?.messages || []);
    if (!chat) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["redirect"])('/');
    }
    if (chat?.userId !== userId) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["notFound"])();
    }
    const models = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$config$2f$models$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getModels"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$chat$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Chat"], {
        id: id,
        savedMessages: messages,
        models: models
    }, void 0, false, {
        fileName: "[project]/app/search/[id]/page.tsx",
        lineNumber: 38,
        columnNumber: 10
    }, this);
}
}}),
"[project]/app/search/[id]/page.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, d: __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/app/search/[id]/page.tsx [app-rsc] (ecmascript)"));
}}),

};

//# sourceMappingURL=_5e7a904a._.js.map